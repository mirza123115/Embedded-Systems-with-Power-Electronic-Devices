<!DOCTYPE html>
<!-- saved from url=(0069)https://forum.arduino.cc/index.php?topic=690562.msg4643416#msg4643416 -->
<html class="windows desktop landscape js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths" style="--vh:5.2px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<link rel="stylesheet" type="text/css" href="./Ch-7 SPI Port Based Serial Data Communication_files/index.css">
	<link rel="stylesheet" type="text/css" href="./Ch-7 SPI Port Based Serial Data Communication_files/responsive.css">
	<link rel="stylesheet" type="text/css" href="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.custom-scrollbar.css">
	<link rel="stylesheet" type="text/css" href="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.sceditor.css">
	<style>
img.avatar { max-width: 65px; max-height: 65px; }</style>
	<script type="text/javascript" async="" src="./Ch-7 SPI Port Based Serial Data Communication_files/analytics.js.download"></script><script src="./Ch-7 SPI Port Based Serial Data Communication_files/notice" async=""></script><script><!-- // --><![CDATA[
		var smf_theme_url = "https://forum.arduino.cc/Themes/default";
		var smf_default_theme_url = "https://forum.arduino.cc/Themes/default";
		var smf_images_url = "https://forum.arduino.cc/Themes/default/images";
		var smf_smileys_url = "https://forum.arduino.cc/Smileys";
		var smf_scripturl = "https://forum.arduino.cc/index.php";
		var smf_iso_case_folding = false;
		var smf_charset = "UTF-8";
		var smf_session_id = "f27e02cfd2ffc059ad89808fbc1ebcc5";
		var smf_session_var = "b9461d3f92";
		var smf_member_id = 1441812;
		var ajax_notification_text = 'Loading...';
		var help_popup_heading_text = 'A little lost? Let me explain:';
	// ]]></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.min.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/smf_jquery_plugins.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.custom-scrollbar.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/script.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/theme.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/editor.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.sceditor.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.sceditor.bbcode.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/jquery.sceditor.smf.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/drafts.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/topic.js.download"></script>
	<script src="./Ch-7 SPI Port Based Serial Data Communication_files/alerts.js.download"></script>
	<script><!-- // --><![CDATA[
		var smf_smileys_url = 'https://forum.arduino.cc/Smileys/arduino';
		var bbc_quote_from = 'Quote from';
		var bbc_quote = 'Quote';
		var bbc_search_on = 'on';
	var new_alert_title = "Arduino Forum";
	var alert_timeout = 10000;
	// ]]></script>
	<meta name="description" content="Ch-7  SPI Port Based Serial Data Communication">
	<title>Ch-7  SPI Port Based Serial Data Communication</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<meta name="robots" content="noindex">
	<link rel="canonical" href="https://forum.arduino.cc/index.php?topic=690562.0">
	<link rel="help" href="https://forum.arduino.cc/index.php?action=help">
	<link rel="contents" href="https://forum.arduino.cc/index.php">
	<link rel="search" href="https://forum.arduino.cc/index.php?action=search">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - RSS" href="https://forum.arduino.cc/index.php?type=rss2;action=.xml">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - Atom" href="https://forum.arduino.cc/index.php?type=atom;action=.xml">
	<link rel="index" href="https://forum.arduino.cc/index.php?board=18.0">
<style type="text/css">img[onload^="SVGInject("]{visibility:hidden;}</style><script async="" src="./Ch-7 SPI Port Based Serial Data Communication_files/hotjar-1036685.js.download"></script>
  <link rel="shortcut icon" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/favicon-48x48.png">
  <link rel="manifest" id="ino-manifest-placeholder" href="blob:https://forum.arduino.cc/1bcc0469-b8b8-4fb7-9631-004eda4c40c0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#fff">
  <meta name="application-name">
  <link rel="apple-touch-icon" sizes="57x57" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="167x167" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-167x167.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="1024x1024" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-icon-1024x1024.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title">
  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-640x1136.png">
  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-750x1334.png">
  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-828x1792.png">
  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1125x2436.png">
  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1242x2208.png">
  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1242x2688.png">
  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1536x2048.png">
  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1668x2224.png">
  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1668x2388.png">
  <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2048x2732.png">
  <link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1620x2160.png">
  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1136x640.png">
  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1334x750.png">
  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-1792x828.png">
  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2436x1125.png">
  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2208x1242.png">
  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2688x1242.png">
  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2048x1536.png">
  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2224x1668.png">
  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2388x1668.png">
  <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2732x2048.png">
  <link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/apple-touch-startup-image-2160x1620.png">
  <link rel="icon" type="image/png" sizes="228x228" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/coast-228x228.png">
  <meta name="msapplication-TileColor" content="#fff">
  <meta name="msapplication-TileImage" content="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/mstile-144x144.png">
  <meta name="msapplication-config" content="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/browserconfig.xml">
  <link rel="yandex-tableau-widget" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-arduino/yandex-browser-manifest.json">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"><script async="" src="./Ch-7 SPI Port Based Serial Data Communication_files/modules.8831d20acac5f9d5fa63.js.download" charset="utf-8"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style></head>
<body id="chrome" class="action_messageindex board_18"><div style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/sprites.svg" style="display: none;">
  <symbol id="footerLang-icon" viewBox="0 0 14 14">
    <path d="M13.813 6.733a6.422 6.422 0 00-.286-1.669 6.563 6.563 0 00-2.56-3.46.267.267 0 00-.06-.037A6.43 6.43 0 007.783.48 4.49 4.49 0 007.25.438 6.563 6.563 0 1013.813 7a2.533 2.533 0 000-.268zM3.969 11.57a5.625 5.625 0 01-2.096-6.23l.807.577L3.969 8.07v3.501zm6.675-5.976a.469.469 0 00-.324.037l-.937.469a.469.469 0 00-.235.567l.47 1.406a.469.469 0 00.294.296l1.144.38.366 2.001a5.597 5.597 0 01-4.172 1.875 5.48 5.48 0 01-2.142-.427l2.076-3.557a.469.469 0 00-.07-.568l-.469-.468a.469.469 0 00-.332-.136H4.728l-.342-.68a.127.127 0 00-.028-.047l-.455-.68h1.003a.469.469 0 00.469-.468v-.746l.802-.796a.469.469 0 00.056-.591l-.9-1.355-.117-.351a5.56 5.56 0 012.034-.38v.469a.469.469 0 00.938 0v-.385a5.466 5.466 0 011.959.722L9.71 3.72l-.066.225-.384.38a.469.469 0 00.152.768.469.469 0 00.514-.103l.262-.262.469.15 2.044.68c.055.193.097.39.126.59l-2.184-.553z" fill="currentColor"></path>
  </symbol>
  <symbol id="footerTriangle-icon" viewBox="0 0 9 6">
    <path d="M.332 4.332l3.2-3.2a.8.8 0 011.136 0l3.2 3.2a.8.8 0 01.168.872.8.8 0 01-.736.496H.9a.8.8 0 01-.736-.496.8.8 0 01.168-.872z" fill="currentColor"></path>
  </symbol>
  <symbol id="headerIcon-menu-triangle" viewBox="0 0 11 7">
    <path d="M10.21 2.21l-4 4a1 1 0 01-1.42 0l-4-4a1 1 0 01-.21-1.09A1 1 0 011.5.5h8a1 1 0 01.92.62 1 1 0 01-.21 1.09z" fill="currentColor"></path>
  </symbol>
  <symbol id="headerIcon-extend-menu" viewBox="0 0 7 12">
    <path d="M1.5 11.25a.75.75 0 01-.533-1.283L4.942 6 .967 2.032A.753.753 0 112.032.967l4.5 4.5a.75.75 0 010 1.065l-4.5 4.5a.75.75 0 01-.532.218z" fill="currentColor"></path>
  </symbol>
  <symbol id="headerIcon-extend-next" viewBox="0 0 10 9">
    <path d="M8.891 4.766L5.516 8.141a.375.375 0 01-.614-.122.375.375 0 01.082-.41L7.72 4.875H.375a.375.375 0 010-.75h7.346L4.984 1.391A.377.377 0 015.516.86l3.375 3.375a.375.375 0 010 .532z" fill="currentColor"></path>
  </symbol>
</svg></div><link rel="stylesheet" href="./Ch-7 SPI Port Based Serial Data Communication_files/foundation2.css" type="text/css"><link rel="stylesheet" href="./Ch-7 SPI Port Based Serial Data Communication_files/common-hacked.css" type="text/css"><link rel="stylesheet" href="./Ch-7 SPI Port Based Serial Data Communication_files/new_style.css" type="text/css"><link rel="stylesheet" href="./Ch-7 SPI Port Based Serial Data Communication_files/fonts.css" type="text/css"><link rel="stylesheet" href="./Ch-7 SPI Port Based Serial Data Communication_files/arduino-icons.css" type="text/css"><link rel="stylesheet" href="./Ch-7 SPI Port Based Serial Data Communication_files/index.v2.css" type="text/css"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link href="./Ch-7 SPI Port Based Serial Data Communication_files/css2" rel="stylesheet"><div id="header" class="temporary ino-header-base" data-ref="0.8496202727039894"><header id="ino-header-new">
  <nav class="arduino-nav teal collapsed">
    <!-- First level of header -->
    <div class="first-level">
      <div class="first-level-left app-menu-apps" id="main-menu">
        <!-- Component MenuAppsCmp -->
      <div class="app-menu-apps-link"><a href="https://www.arduino.cc/pro"><span class="link-full">Professional</span><span class="link-short">Pro</span></a></div><div class="app-menu-apps-link"><a href="https://www.arduino.cc/edu"><span class="link-full">Education</span><span class="link-short">Edu</span></a></div><div class="app-menu-apps-link"><a href="https://store.arduino.cc/"><span>Store</span></a></div></div>

      <!-- Right part of control -->
      <div class="first-level-right">
        <!-- Search bar -->
        <div class="app-controls search-control app-desktop-search-control"><form class="search-form ino-suggestion" role="search" method="GET" action="https://www.arduino.cc/search">
  <div class="search-icon">
    <svg xmlns="http://www.w3.org/2000/svg" id="search" viewBox="0 0 20 20" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-search.svg">
  <path d="M19.5325 18.4675L14.2825 13.2175C15.4994 11.7274 16.0972 9.82667 15.9522 7.90828C15.8072 5.9899 14.9306 4.20059 13.5035 2.91032C12.0765 1.62005 10.2082 0.927502 8.28495 0.975872C6.3617 1.02424 4.53058 1.80983 3.17021 3.1702C1.80984 4.53057 1.02425 6.36169 0.975884 8.28493C0.927514 10.2082 1.62006 12.0765 2.91033 13.5035C4.2006 14.9305 5.98991 15.8072 7.90829 15.9522C9.82668 16.0972 11.7274 15.4994 13.2175 14.2825L18.4675 19.5325C18.5372 19.6028 18.6202 19.6586 18.7116 19.6967C18.803 19.7347 18.901 19.7543 19 19.7543C19.099 19.7543 19.197 19.7347 19.2884 19.6967C19.3798 19.6586 19.4628 19.6028 19.5325 19.5325C19.6028 19.4628 19.6586 19.3798 19.6967 19.2884C19.7348 19.197 19.7544 19.099 19.7544 19C19.7544 18.901 19.7348 18.803 19.6967 18.7116C19.6586 18.6202 19.6028 18.5372 19.5325 18.4675ZM8.50001 14.5C7.31332 14.5 6.15329 14.1481 5.16659 13.4888C4.1799 12.8295 3.41086 11.8925 2.95674 10.7961C2.50261 9.69974 2.38379 8.49334 2.6153 7.32946C2.84681 6.16557 3.41826 5.09647 4.25737 4.25736C5.09649 3.41824 6.16558 2.8468 7.32947 2.61529C8.49336 2.38378 9.69976 2.5026 10.7961 2.95672C11.8925 3.41085 12.8295 4.17988 13.4888 5.16658C14.1481 6.15327 14.5 7.31331 14.5 8.5C14.5 10.0913 13.8679 11.6174 12.7427 12.7426C11.6174 13.8679 10.0913 14.5 8.50001 14.5Z" fill="currentColor"></path>
</svg>
  </div>
  <input type="hidden" name="tab" value="forum" class="search-tab">
  <input type="text" placeholder="Search on Arduino.cc" value="" name="q" title="" class="search-typing" autocomplete="off">
<div class="ino-suggestion__box"></div></form></div>

        <!-- Store container -->
        <div class="app-controls store-controls hide">
          <!-- Store buttons -->
        </div>

        <!-- Application list -->
        <div class="app-controls application-list app-applications-container style-arduino"><div class="app-applications popup-dropdown">
  <a id="application-list-control" href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#">
    <div class="app-applications-icon">
      <svg xmlns="http://www.w3.org/2000/svg" id="app-list" viewBox="0 0 18 18" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-app-list.svg">
  <path d="M9 10.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM15.75 10.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM15.75 3.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM9 3.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM2.25 3.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM2.25 10.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM9 17.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM15.75 17.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM2.25 17.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor"></path>
</svg>
    </div>
  </a>
  <div class="popup-container">
    <div class="popup-container__box" id="app-apps-container-box"><div class="app-applications__row"><div class="app-applications__col"><a id="web-editor" class="app-application" href="https://create.arduino.cc/editor" target="blank" rel="noopener noreferrer">
        <div class="app-application__icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46 36" id="app-web-editor" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-web-editor.svg">
  <path d="M0.5 6.5H45.5V32.5C45.5 34.1569 44.1569 35.5 42.5 35.5H3.5C1.84315 35.5 0.5 34.1569 0.5 32.5V6.5Z" fill="#171E21"></path>
  <path d="M0.5 3.5C0.5 1.84315 1.84315 0.5 3.5 0.5H42.5C44.1569 0.5 45.5 1.84315 45.5 3.5V6.5H0.5V3.5Z" fill="#DAE3E3"></path>
  <rect x="5.5" y="10.5" width="6" height="2" rx="1" fill="#98FFC7"></rect>
  <rect x="19.5" y="16.5" width="6" height="2" rx="1" fill="#FFE793"></rect>
  <rect x="13.5" y="22.5" width="6" height="2" rx="1" fill="#95A5A6"></rect>
  <rect x="13.5" y="10.5" width="4" height="2" rx="1" fill="#98FFC7"></rect>
  <rect x="21.5" y="22.5" width="4" height="2" rx="1" fill="#95A5A6"></rect>
  <rect x="13.5" y="16.5" width="4" height="2" rx="1" fill="#FFA572"></rect>
  <rect x="5.5" y="28.5" width="4" height="2" rx="1" fill="#fff"></rect>
  <rect x="27.5" y="16.5" width="4" height="2" rx="1" fill="#fff"></rect>
</svg>
        </div>
        <div class="app-application__name">Web Editor</div>
      </a></div><div class="app-applications__col"><a id="iot-cloud" class="app-application" href="https://create.arduino.cc/iot" target="blank" rel="noopener noreferrer">
        <div class="app-application__icon">
          <svg xmlns="http://www.w3.org/2000/svg" id="app-iot-cloud" viewBox="0 0 46 36" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-iot-cloud.svg">
  <rect x=".5" y=".5" width="45" height="35" rx="3" fill="#DAE3E3"></rect>
  <rect x="3.5" y="3.5" width="18" height="29" rx="1" fill="#fff"></rect>
  <rect x="24.5" y="3.5" width="18" height="13" rx="1" fill="#fff"></rect>
  <rect x="24.5" y="19.5" width="18" height="13" rx="1" fill="#fff"></rect>
  <rect x="27.5" y="6.5" width="12" height="7" rx="3.5" fill="#95A5A6"></rect>
  <rect x="27.5" y="22.5" width="12" height="7" rx="3.5" fill="#0CA1A6"></rect>
  <circle cx="31" cy="10" r="2.5" fill="#fff"></circle>
  <circle cx="36" cy="26" r="2.5" fill="#fff"></circle>
  <path stroke="#95A5A6" stroke-width="3" stroke-linecap="round" d="M13 8v20"></path>
  <path stroke="#0CA1A6" stroke-width="3" stroke-linecap="round" d="M13 17v11"></path>
  <circle cx="13" cy="18" r="3" fill="#fff" stroke="#95A5A6"></circle>
</svg>
        </div>
        <div class="app-application__name">IoT Cloud</div>
      </a></div></div><div class="app-applications__row"><div class="app-applications__col"><a id="device-manager" class="app-application" href="https://create.arduino.cc/devices" target="blank" rel="noopener noreferrer">
        <div class="app-application__icon">
          <svg xmlns="http://www.w3.org/2000/svg" id="app-device-manager" viewBox="0 0 48 36" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-device-manager.svg">
  <rect x="2.5" y=".5" width="45" height="35" rx="3" fill="#0CA1A6"></rect>
  <circle cx="5.5" cy="3.5" r="2" fill="#fff"></circle>
  <circle cx="44.5" cy="3.5" r="2" fill="#fff"></circle>
  <circle cx="5.5" cy="32.5" r="2" fill="#fff"></circle>
  <circle cx="44.5" cy="32.5" r="2" fill="#fff"></circle>
  <rect x=".5" y="12.5" width="7" height="11" rx="1" fill="#DAE3E3"></rect>
  <rect x="30.5" y="11.5" width="13" height="13" rx="1" fill="#DAE3E3"></rect>
  <rect x="16.5" y="1.5" width="23" height="4" rx="1" fill="#4E5B61"></rect>
  <rect x="16.5" y="30.5" width="23" height="4" rx="1" fill="#4E5B61"></rect>
</svg>
        </div>
        <div class="app-application__name">Manager for Linux</div>
      </a></div><div class="app-applications__col"><a id="digital-store" class="app-application" href="https://store.arduino.cc/digital/" target="blank" rel="noopener noreferrer">
        <div class="app-application__icon">
          <svg xmlns="http://www.w3.org/2000/svg" id="app-digital-store" viewBox="0 0 52 36" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-digital-store.svg">
  <path d="M3.5 3.5a3 3 0 013-3h39a3 3 0 013 3v32h-45v-32z" fill="#DAE3E3"></path>
  <path fill="#fff" d="M24.5 17.5h19v12h-19z"></path>
  <rect x="3.5" y="3.5" width="9" height="9" rx="4.5" fill="#0CA1A6"></rect>
  <path d="M3.5 3.5a3 3 0 013-3h6v8h-9v-5zM39.5.5h6a3 3 0 013 3v5h-9v-8z" fill="#0CA1A6"></path>
  <rect x="39.5" y="3.5" width="9" height="9" rx="4.5" fill="#0CA1A6"></rect>
  <rect x="12.5" y="3.5" width="9" height="9" rx="4.5" fill="#fff"></rect>
  <path fill="#fff" d="M12.5.5h9v8h-9z"></path>
  <rect x="21.5" y="3.5" width="9" height="9" rx="4.5" fill="#0CA1A6"></rect>
  <path fill="#0CA1A6" d="M21.5.5h9v8h-9z"></path>
  <rect x="30.5" y="3.5" width="9" height="9" rx="4.5" fill="#fff"></rect>
  <path fill="#fff" d="M30.5.5h9v8h-9z"></path>
  <path d="M8.5 18.5a1 1 0 011-1h10a1 1 0 011 1v17h-12v-17z" fill="#BCAC99"></path>
  <circle cx="15.5" cy="25.5" r="2" fill="#fff"></circle>
  <rect x=".5" y="33.5" width="51" height="2" rx="1" fill="#C9D2D2"></rect>
</svg>
        </div>
        <div class="app-application__name">Digital Store</div>
      </a></div></div></div>
  </div>
</div></div>

        <!-- Auth/Profile container -->
        <div class="app-controls profile-desktop-container app-desktop-profile-container style-arduino min-width"><!-- Sign In -->
<div class="login-button hide">
  <a href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#">
    <span>Sign In</span>
  </a>
</div>

<!-- Profile view -->
<div class="profile-dropdown popup-dropdown" tabindex="0">
  <a data-hj-suppress="" class="submenu-toggle profile-avatar" aria-label="user profile">
    <svg viewBox="0 0 22 22" class="avatar default-avatar" style="display: none;">
      <path d="M11 11.7498H10.88C9.99585 11.7184 9.1594 11.341 8.55072 10.6989C7.94204 10.0569 7.6098 9.20152 7.62553 8.31694C7.64126 7.43237 8.0037 6.58934 8.63483 5.96934C9.26595 5.34934 10.1153 5.00195 11 5.00195C11.8847 5.00195 12.7341 5.34934 13.3652 5.96934C13.9963 6.58934 14.3587 7.43237 14.3745 8.31694C14.3902 9.20152 14.058 10.0569 13.4493 10.6989C12.8406 11.341 12.0042 11.7184 11.12 11.7498H11Z" fill="currentColor"></path>
      <path d="M17.9752 18.65C17.9857 18.7012 18.0007 18.7514 18.0202 18.8C16.0921 20.535 13.5902 21.495 10.9964 21.495C8.40264 21.495 5.90067 20.535 3.97266 18.8C3.99462 18.7516 4.01219 18.7014 4.02516 18.65C4.38847 17.1001 5.26936 15.7205 6.52245 14.7387C7.77553 13.757 9.3259 13.2318 10.9177 13.25H11.0827C12.6744 13.2318 14.2248 13.757 15.4779 14.7387C16.7309 15.7205 17.6118 17.1001 17.9752 18.65Z" fill="currentColor"></path>
      <path d="M21.5004 10.9998C21.5108 13.3645 20.7174 15.6626 19.2504 17.5173C18.8356 16.2987 18.1466 15.1916 17.2363 14.2814C16.3261 13.3712 15.219 12.6821 14.0004 12.2673C14.8135 11.6501 15.4123 10.7933 15.7124 9.81765C16.0126 8.842 15.9989 7.79676 15.6733 6.82931C15.3477 5.86186 14.7266 5.02102 13.8977 4.42536C13.0687 3.8297 12.0737 3.50928 11.0529 3.50928C10.0321 3.50928 9.03713 3.8297 8.20818 4.42536C7.37922 5.02102 6.75816 5.86186 6.43256 6.82931C6.10697 7.79676 6.09327 8.842 6.39341 9.81765C6.69354 10.7933 7.29236 11.6501 8.10542 12.2673C6.88682 12.6821 5.77973 13.3712 4.8695 14.2814C3.95927 15.1916 3.2702 16.2987 2.85542 17.5173C1.79166 16.2095 1.05841 14.6648 0.717686 13.0138C0.376957 11.3629 0.438759 9.65409 0.897868 8.03203C1.35698 6.40996 2.19989 4.92228 3.35535 3.69477C4.51081 2.46726 5.94484 1.536 7.5362 0.979724C9.12757 0.423451 10.8295 0.25852 12.498 0.498875C14.1666 0.73923 15.7528 1.3778 17.1224 2.36061C18.4921 3.34341 19.605 4.64156 20.367 6.14528C21.129 7.64901 21.5178 9.31411 21.5004 10.9998Z" fill="currentColor"></path>
    </svg>      
    <img class="avatar user-avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/emon_mirza.jpeg" alt="User Profile" style="display: block;">
    <span class="badge">0</span>
  </a>
  <div class="popup-container">
    <div class="popup-container__box">
      <ul>
        <li>
          <a href="https://id.arduino.cc/"><span>Profile</span></a>
        </li>
        <li class="forum-messages">
          <a href="https://forum.arduino.cc/index.php?action=pm"><span>Messages</span></a>
        </li>
        <li>
          <a href="https://store.arduino.cc/digital/subscriptions"><span>My Plans</span></a>
        </li>
        <li class="logout">
          <a role="button" tabindex="0"><span>Sign Out</span></a>
        </li>
      </ul>
    </div>
  </div>
</div></div>
      </div>

    </div>

    <!-- Second level of header -->
    <div class="second-level">
      <!-- Brand logo -->
      <a class="brand-logo app-brand-logo style-arduino logo-arduino" href="https://www.arduino.cc/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 25" fill="none" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerLogo-arduino.svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M51.25 12.5C51.25 5.60219 45.5773 0 38.6242 0C37.984 0 37.3261 0.0364964 36.6859 0.145985C31.2799 0.930657 27.6522 4.92701 25.625 7.9927C23.5978 4.92701 19.9701 0.930657 14.5641 0.145985C13.9239 0.0547445 13.266 0 12.6258 0C5.65493 0 0 5.60219 0 12.5C0 19.3978 5.67271 25 12.6258 25C13.266 25 13.9239 24.9635 14.5819 24.854C19.9879 24.0511 23.6155 20.0547 25.6428 16.9891C27.67 20.0547 31.2977 24.0511 36.7037 24.854C37.3439 24.9453 38.0018 25 38.6598 25C45.5773 25 51.25 19.3978 51.25 12.5ZM13.9416 20.4744C13.4971 20.5474 13.0525 20.5657 12.6079 20.5657C8.01996 20.5657 4.30336 16.9343 4.30336 12.5C4.30336 8.04744 8.03774 4.4343 12.6257 4.4343C13.0703 4.4343 13.5148 4.4708 13.9594 4.52554C19.0631 5.27372 22.1751 10.4379 23.242 12.5C22.1573 14.5803 19.0275 19.7263 13.9416 20.4744ZM37.2905 4.52554C32.1868 5.27372 29.057 10.4379 28.0079 12.5C29.057 14.562 32.1868 19.7263 37.2905 20.4744C37.735 20.5292 38.1796 20.5657 38.6242 20.5657C43.1944 20.5657 46.9287 16.9525 46.9287 12.5C46.9287 8.06569 43.2121 4.4343 38.6242 4.4343C38.1796 4.4343 37.735 4.4708 37.2905 4.52554ZM9.06449 11.161H16.7004V13.5642H9.06449V11.161ZM42.1479 13.5817H39.5728V16.1077H37.1049V13.5817H34.5298V11.161H37.1049V8.63499H39.5728V11.161H42.1479V13.5817Z" fill="currentColor"></path>
</svg></a>

      <!-- Main application menu -->
      <div class="menu-container">
        <!-- Search bar -->
        <div class="mobile-search-control app-mobile-search-control"><form class="search-form ino-suggestion" role="search" method="GET" action="https://www.arduino.cc/search">
  <div class="search-icon">
    <svg xmlns="http://www.w3.org/2000/svg" id="search" viewBox="0 0 20 20" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-search.svg">
  <path d="M19.5325 18.4675L14.2825 13.2175C15.4994 11.7274 16.0972 9.82667 15.9522 7.90828C15.8072 5.9899 14.9306 4.20059 13.5035 2.91032C12.0765 1.62005 10.2082 0.927502 8.28495 0.975872C6.3617 1.02424 4.53058 1.80983 3.17021 3.1702C1.80984 4.53057 1.02425 6.36169 0.975884 8.28493C0.927514 10.2082 1.62006 12.0765 2.91033 13.5035C4.2006 14.9305 5.98991 15.8072 7.90829 15.9522C9.82668 16.0972 11.7274 15.4994 13.2175 14.2825L18.4675 19.5325C18.5372 19.6028 18.6202 19.6586 18.7116 19.6967C18.803 19.7347 18.901 19.7543 19 19.7543C19.099 19.7543 19.197 19.7347 19.2884 19.6967C19.3798 19.6586 19.4628 19.6028 19.5325 19.5325C19.6028 19.4628 19.6586 19.3798 19.6967 19.2884C19.7348 19.197 19.7544 19.099 19.7544 19C19.7544 18.901 19.7348 18.803 19.6967 18.7116C19.6586 18.6202 19.6028 18.5372 19.5325 18.4675ZM8.50001 14.5C7.31332 14.5 6.15329 14.1481 5.16659 13.4888C4.1799 12.8295 3.41086 11.8925 2.95674 10.7961C2.50261 9.69974 2.38379 8.49334 2.6153 7.32946C2.84681 6.16557 3.41826 5.09647 4.25737 4.25736C5.09649 3.41824 6.16558 2.8468 7.32947 2.61529C8.49336 2.38378 9.69976 2.5026 10.7961 2.95672C11.8925 3.41085 12.8295 4.17988 13.4888 5.16658C14.1481 6.15327 14.5 7.31331 14.5 8.5C14.5 10.0913 13.8679 11.6174 12.7427 12.7426C11.6174 13.8679 10.0913 14.5 8.50001 14.5Z" fill="currentColor"></path>
</svg>
  </div>
  <input type="hidden" name="tab" value="forum" class="search-tab">
  <input type="text" placeholder="Search on Arduino.cc" value="" name="q" title="" class="search-typing" autocomplete="off">
<div class="ino-suggestion__box"></div></form></div>

        <!-- App menu -->
        <div class="menu-list app-menu-main style-arduino" id="app-menu-list"><div class="app-menu-item" tabindex="0"><a class="app-menu-text main-text" href="https://www.arduino.cc/en/Main/Products" tabindex="-1"><span title="Hardware">Hardware</span></a></div><div class="app-menu-item app-has-sub-menu" tabindex="0"><a class="app-menu-text main-text" role="button" tabindex="-1"><span title="Software">Software</span><div class="app-menu-triangle"><svg>
        <use xlink:href="/index.php#headerIcon-menu-triangle" href="#headerIcon-menu-triangle"></use>
      </svg></div></a><div class="app-sub-menu"><a class="app-menu-text sub-menu-text" href="https://www.arduino.cc/en/Main/Create" target="_blank" rel="noopener noreferrer"><span title="Arduino Create">Arduino Create</span></a><a class="app-menu-text sub-menu-text" href="https://www.arduino.cc/en/Main/Software"><span title="Downloads">Downloads</span></a></div></div><div class="app-menu-item app-has-sub-menu" tabindex="0"><a class="app-menu-text main-text" role="button" tabindex="-1"><span title="Documentation">Documentation</span><div class="app-menu-triangle"><svg>
        <use xlink:href="/index.php#headerIcon-menu-triangle" href="#headerIcon-menu-triangle"></use>
      </svg></div></a><div class="app-sub-menu"><a class="app-menu-text sub-menu-text" href="https://www.arduino.cc/en/Tutorial/HomePage"><span title="Tutorials">Tutorials</span></a><a class="app-menu-text sub-menu-text" href="https://www.arduino.cc/reference/en"><span title="Reference">Reference</span></a><a class="app-menu-text sub-menu-text" href="https://www.arduino.cc/en/Main/FAQ"><span title="FAQ">FAQ</span></a><a class="app-menu-text sub-menu-text" href="https://playground.arduino.cc/"><span title="Playground">Playground</span></a></div></div><div class="app-menu-item app-has-sub-menu" tabindex="0"><a class="app-menu-text main-text" role="button" tabindex="-1"><span title="Community">Community</span><div class="app-menu-triangle"><svg>
        <use xlink:href="/index.php#headerIcon-menu-triangle" href="#headerIcon-menu-triangle"></use>
      </svg></div></a><div class="app-sub-menu"><a class="app-menu-text sub-menu-text" href="https://forum.arduino.cc/"><span title="Forum">Forum</span></a><a class="app-menu-text sub-menu-text" href="https://discord.gg/jQJFwW7" target="_blank" rel="noopener noreferrer"><span title="Discord">Discord</span></a><a class="app-menu-text sub-menu-text" href="https://create.arduino.cc/projecthub" target="_blank" rel="noopener noreferrer"><span title="Project Hub">Project Hub</span></a><a class="app-menu-text sub-menu-text" href="https://day.arduino.cc/" target="_blank" rel="noopener noreferrer"><span title="Arduino Day">Arduino Day</span></a></div></div><div class="app-menu-item" tabindex="0"><a class="app-menu-text main-text" href="https://blog.arduino.cc/" tabindex="-1"><span title="Blog">Blog</span></a></div><div class="app-menu-item" tabindex="0"><a class="app-menu-text main-text" href="https://www.arduino.cc/en/Guide/Introduction" tabindex="-1"><span title="About">About</span></a></div></div>

        <!-- App buttons -->
        <div class="menu-buttons app-menu-buttons" id="app-menu-buttons"></div>

        <div class="profile-mobile-container app-mobile-profile-container style-arduino"><!-- Sign In -->
<div class="login-button hide">
  <a href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#">
    <span>Sign In</span>
  </a>
</div>
<!-- User profile -->
<div class="profile-dropdown">
  <div class="profile-menu">
    <div class="profile-menu__item">
      <a href="https://id.arduino.cc/">Profile</a>
    </div>
    <div class="profile-menu__item">
      <a href="https://forum.arduino.cc/index.php?action=pm">Messages</a>
    </div>
    <div class="profile-menu__item">
      <a href="https://store.arduino.cc/digital/subscriptions">My Plans</a>
    </div>
  </div>
  <div class="profile-info">
    <div class="profile-avatar" aria-label="user profile">
      <svg viewBox="0 0 22 22" class="avatar default-avatar" style="display: none;">
        <path d="M11 11.7498H10.88C9.99585 11.7184 9.1594 11.341 8.55072 10.6989C7.94204 10.0569 7.6098 9.20152 7.62553 8.31694C7.64126 7.43237 8.0037 6.58934 8.63483 5.96934C9.26595 5.34934 10.1153 5.00195 11 5.00195C11.8847 5.00195 12.7341 5.34934 13.3652 5.96934C13.9963 6.58934 14.3587 7.43237 14.3745 8.31694C14.3902 9.20152 14.058 10.0569 13.4493 10.6989C12.8406 11.341 12.0042 11.7184 11.12 11.7498H11Z" fill="currentColor"></path>
        <path d="M17.9752 18.65C17.9857 18.7012 18.0007 18.7514 18.0202 18.8C16.0921 20.535 13.5902 21.495 10.9964 21.495C8.40264 21.495 5.90067 20.535 3.97266 18.8C3.99462 18.7516 4.01219 18.7014 4.02516 18.65C4.38847 17.1001 5.26936 15.7205 6.52245 14.7387C7.77553 13.757 9.3259 13.2318 10.9177 13.25H11.0827C12.6744 13.2318 14.2248 13.757 15.4779 14.7387C16.7309 15.7205 17.6118 17.1001 17.9752 18.65Z" fill="currentColor"></path>
        <path d="M21.5004 10.9998C21.5108 13.3645 20.7174 15.6626 19.2504 17.5173C18.8356 16.2987 18.1466 15.1916 17.2363 14.2814C16.3261 13.3712 15.219 12.6821 14.0004 12.2673C14.8135 11.6501 15.4123 10.7933 15.7124 9.81765C16.0126 8.842 15.9989 7.79676 15.6733 6.82931C15.3477 5.86186 14.7266 5.02102 13.8977 4.42536C13.0687 3.8297 12.0737 3.50928 11.0529 3.50928C10.0321 3.50928 9.03713 3.8297 8.20818 4.42536C7.37922 5.02102 6.75816 5.86186 6.43256 6.82931C6.10697 7.79676 6.09327 8.842 6.39341 9.81765C6.69354 10.7933 7.29236 11.6501 8.10542 12.2673C6.88682 12.6821 5.77973 13.3712 4.8695 14.2814C3.95927 15.1916 3.2702 16.2987 2.85542 17.5173C1.79166 16.2095 1.05841 14.6648 0.717686 13.0138C0.376957 11.3629 0.438759 9.65409 0.897868 8.03203C1.35698 6.40996 2.19989 4.92228 3.35535 3.69477C4.51081 2.46726 5.94484 1.536 7.5362 0.979724C9.12757 0.423451 10.8295 0.25852 12.498 0.498875C14.1666 0.73923 15.7528 1.3778 17.1224 2.36061C18.4921 3.34341 19.605 4.64156 20.367 6.14528C21.129 7.64901 21.5178 9.31411 21.5004 10.9998Z" fill="currentColor"></path>
      </svg> 
      <img class="avatar user-avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/emon_mirza.jpeg" alt="User Profile" style="display: block;">
      <div class="profile-greeting">
        <!-- Set user greeting here -->
      </div>
    </div>
    <div class="logout">
      <a role="button" tabindex="0">Sign Out</a>
    </div>
  </div>
</div></div>
      </div>

      <!-- Burger menu -->
      <div class="burger-menu">
        <div class="burger-main-icon">
          <svg xmlns="http://www.w3.org/2000/svg" id="burger-menu" viewBox="0 0 18 13" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-burger-menu.svg">
  <path d="M17.25 7.25H0.75C0.551088 7.25 0.360322 7.17098 0.21967 7.03033C0.0790178 6.88968 0 6.69891 0 6.5C0 6.30109 0.0790178 6.11032 0.21967 5.96967C0.360322 5.82902 0.551088 5.75 0.75 5.75H17.25C17.4489 5.75 17.6397 5.82902 17.7803 5.96967C17.921 6.11032 18 6.30109 18 6.5C18 6.69891 17.921 6.88968 17.7803 7.03033C17.6397 7.17098 17.4489 7.25 17.25 7.25Z" fill="currentColor"></path>
  <path d="M17.25 2H0.75C0.551088 2 0.360322 1.92098 0.21967 1.78033C0.0790178 1.63968 0 1.44891 0 1.25C0 1.05109 0.0790178 0.860322 0.21967 0.71967C0.360322 0.579018 0.551088 0.5 0.75 0.5H17.25C17.4489 0.5 17.6397 0.579018 17.7803 0.71967C17.921 0.860322 18 1.05109 18 1.25C18 1.44891 17.921 1.63968 17.7803 1.78033C17.6397 1.92098 17.4489 2 17.25 2Z" fill="currentColor"></path>
  <path d="M17.25 12.5H0.75C0.551088 12.5 0.360322 12.421 0.21967 12.2803C0.0790178 12.1397 0 11.9489 0 11.75C0 11.5511 0.0790178 11.3603 0.21967 11.2197C0.360322 11.079 0.551088 11 0.75 11H17.25C17.4489 11 17.6397 11.079 17.7803 11.2197C17.921 11.3603 18 11.5511 18 11.75C18 11.9489 17.921 12.1397 17.7803 12.2803C17.6397 12.421 17.4489 12.5 17.25 12.5Z" fill="currentColor"></path>
</svg>
        </div>
        <div class="burger-close-icon">
          <svg xmlns="http://www.w3.org/2000/svg" id="burger-close" viewBox="0 0 20 19" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-burger-close.svg">
  <path d="M18.7099 16.7899C18.8037 16.8829 18.8781 16.9935 18.9288 17.1154C18.9796 17.2372 19.0057 17.3679 19.0057 17.4999C19.0057 17.632 18.9796 17.7627 18.9288 17.8845C18.8781 18.0064 18.8037 18.117 18.7099 18.2099C18.617 18.3037 18.5064 18.3781 18.3845 18.4288C18.2627 18.4796 18.132 18.5057 17.9999 18.5057C17.8679 18.5057 17.7372 18.4796 17.6154 18.4288C17.4935 18.3781 17.3829 18.3037 17.2899 18.2099L9.99994 10.9199L2.70994 18.2099C2.61698 18.3037 2.50638 18.3781 2.38452 18.4288C2.26266 18.4796 2.13195 18.5057 1.99994 18.5057C1.86793 18.5057 1.73722 18.4796 1.61536 18.4288C1.4935 18.3781 1.3829 18.3037 1.28994 18.2099C1.19621 18.117 1.12182 18.0064 1.07105 17.8845C1.02028 17.7627 0.994141 17.632 0.994141 17.4999C0.994141 17.3679 1.02028 17.2372 1.07105 17.1154C1.12182 16.9935 1.19621 16.8829 1.28994 16.7899L8.57994 9.49994L1.28994 2.20994C1.1967 2.1167 1.12274 2.00601 1.07228 1.88419C1.02182 1.76237 0.995847 1.6318 0.995847 1.49994C0.995847 1.36808 1.02182 1.23751 1.07228 1.11569C1.12274 0.99387 1.1967 0.88318 1.28994 0.789941C1.38318 0.696703 1.49387 0.622742 1.61569 0.572282C1.73751 0.521822 1.86808 0.49585 1.99994 0.49585C2.1318 0.49585 2.26237 0.521822 2.38419 0.572282C2.50601 0.622742 2.6167 0.696703 2.70994 0.789941L9.99994 8.07994L17.2899 0.789941C17.4782 0.601638 17.7336 0.49585 17.9999 0.49585C18.2662 0.49585 18.5216 0.601638 18.7099 0.789941C18.8982 0.978245 19.004 1.23364 19.004 1.49994C19.004 1.76624 18.8982 2.02164 18.7099 2.20994L11.4199 9.49994L18.7099 16.7899Z" fill="currentColor"></path>
</svg>
        </div>
      </div>
    </div>

    <!-- portal element-->
    <div id="ino-portal-element"></div>
  </nav>
  <div id="consent-modal-container"></div>
</header>
<nagbar data-ref="0.8262185753302649"></nagbar></div>

				<div class="navigate_section" id="headerbread">
          <div class="row" style="max-width: 960px!important;">
          <div class="small-12">
					<ul>
          
						<li>
					<a href="https://forum.arduino.cc/index.php"><span>Arduino Forum</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="https://forum.arduino.cc/index.php#c3"><span>Topics</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="https://forum.arduino.cc/index.php?board=18.0"><span>Education and Teaching</span></a>
						</li>
						<li class="last">
							<span class="dividers"> &gt; </span>
					<a href="https://forum.arduino.cc/index.php?topic=690562.0"><span>Ch-7  SPI Port Based Serial Data Communication</span></a>
						</li>
						<li class="unread_links">
                            <a href="https://forum.arduino.cc/index.php?action=profile;area=showalerts" id="alerts_menu_top">Alerts</a>
                            <div id="alerts_menu" class="top_menu"></div>

							<a href="https://forum.arduino.cc/index.php?action=unread" title="Show unread posts since last visit.">Unread Posts</a>
							<a href="https://forum.arduino.cc/index.php?action=unreadreplies" title="Show new replies to your posts.">Updated Topics</a>
              <a href="https://forum.arduino.cc/index.php?action=profile;area=showposts;u=1441812" title="My Posts">My Posts</a>
              <a href="https://forum.arduino.cc/index.php?action=profile;u=1441812" title="Profile"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/emon_mirza.jpeg" alt="emon_mirza" class="avatar" style="height:1.2em;">&nbsp;emon_mirza</a>
						</li>
					</ul>
        </div>
				</div>
				</div>
  <div class="row collapse">
  <div class="small-12 columns">
	<div id="wrapper">
    <div id="upper_section">
			<div id="inner_section">
				<div id="main_menu">
					<ul class="dropmenu sf-js-enabled sf-arrows" id="menu_nav" style="touch-action: pan-y;">
					</ul>
				</div>
			</div>
		</div>
		<div id="content_section">
			<div id="main_content_section">

			<a id="msg4643416"></a><a id="new"></a>
			<div class="pagesection top">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_reply " href="https://forum.arduino.cc/index.php?action=post;topic=690562.0;last_msg=4646670">Reply</a>
				<a class="button-forum  button_strip_mark_unread" href="https://forum.arduino.cc/index.php?action=markasread;sa=topic;t=4643416;topic=690562.0;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">Mark unread</a>
				<a class="button-forum  button_strip_print" href="https://forum.arduino.cc/index.php?action=printpage;topic=690562.0" rel="nofollow">Print</a>
				<a class="button-forum  button_strip_notify" href="https://forum.arduino.cc/index.php?topic=690562.msg4643416">No Alerts or Emails</a>
					<div class="top_menu dropmenu notify_dropdown">
						<div class="viewport">
							<div class="overview"><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=0;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Not Following</strong><br><span>You will not receive any emails or alerts for this post and it will also not show up in your unread replies and topics list. You will still receive @mentions for this topic.</span></a><span class="notify_check checked"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=1;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>No Alerts or Emails</strong><br><span>You will not receive any emails or alerts but only @mentions by other members.</span></a><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=2;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Receive Alerts</strong><br><span>You will receive alerts for this topic.</span></a><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=3;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Receive Emails</strong><br><span>You will receive emails for this topic</span></a><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=4;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Receive Emails and Alerts</strong><br><span>You will receive both alerts and e-mails for this topic.</span></a>
							</div>
						</div>
					</div>
		</div>
				 <a href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#bot" class="topbottom floatleft">Go Down</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> 
				</div>
			</div>
			<div id="forumposts">
				<div class="cat_bar">
					<h3 class="catbg">
						<span id="top_subject" class="topic-icon topic-icon-">Topic: Ch-7  SPI Port Based Serial Data Communication&nbsp;<span>(Read 2077 times)</span></span>
						<span class="nextlinks floatright"><a href="https://forum.arduino.cc/index.php?topic=690562.0;prev_next=prev#new">previous topic</a> - <a href="https://forum.arduino.cc/index.php?topic=690562.0;prev_next=next#new">next topic</a></span>
					</h3>
				</div>
				<form action="https://forum.arduino.cc/index.php?action=quickmod2;topic=690562.0" method="post" accept-charset="UTF-8" name="quickModForm" id="quickModForm" style="margin: 0;" onsubmit="return oQuickModify.bInEditMode ? oQuickModify.modifySave(&#39;f27e02cfd2ffc059ad89808fbc1ebcc5&#39;, &#39;b9461d3f92&#39;) : false">
				<div class="windowbg">
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Offline"><span class="off" title="Offline"></span></a>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=610642" title="View the profile of GolamMostafa" class="pm_icon">GolamMostafa</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=610642"><img class="avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/GolamMostafa.jpeg" alt="avatar_GolamMostafa" onerror="this.src=&#39;//dcw9y8se13llu.cloudfront.net/avatars/default.png&#39;;"></a>
								</li>
								<li class="icons"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Faraday Member</li>
								<li class="postcount">Posts: 5,446</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Personal Message (Offline)"><span class="generic_icons im_off centericon" title="Personal Message (Offline)"></span> </a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 342&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=610642;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">[add]</a></li>
								<li class="poster_ip"><a href="https://forum.arduino.cc/index.php?action=helpadmin;help=see_member_ip" onclick="return reqOverlayDiv(this.href);" class="help">Logged</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon">
									<img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip.png" alt="">
								</div>
								<div id="subject_4643416" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#msg4643416" rel="nofollow">Ch-7  SPI Port Based Serial Data Communication</a></div>
								<div class="page_number floatright">
									 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#msg4643416" rel="nofollow" title=" - Ch-7  SPI Port Based Serial Data Communication" class="smalltext">Jun 15, 2020, 08:20 pm</a>
									<span class="smalltext modified" id="modified_4643416"><span class="lastedit">Last Edit</span>: Jun 19, 2020, 11:57 am by GolamMostafa</span>
								</h5>
								<div id="msg_4643416_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_4643416"><span class="bbc_bold">7.1 &nbsp;Introduction</span><br><span class="bbc_bold">(1)</span> &nbsp;Inside the ATmega328P MCU of the UNO Board, there is a "SPI Port" (Fig-7.1) by which data exchange can take place between Master (UNO) and Slave (NANO) in serial fashion (bit-by-bit). In SPI network, there is only one Master and one or more Slaves; where, the Slaves are selected one-after-another as the need arises. There is no address for a Slave like the I2C Bus.<br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/spiblk.png" alt="" width="500" height="169" class="bbc_img resized"><br>Figure-7.1: Block diagram of the SPI Port structure of ATmega328P MCU of the Arduino UNO Board<br><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/spi328x.png" alt="" width="500" height="239" class="bbc_img resized"><br>Figure-7.2: Expanded view of the SPI Port structure of ATmega328P MCU of the Arduino UNO Board<br><br><span class="bbc_bold">(2)</span> &nbsp;SPI Port is a byte (8-bit) oriented network which means that the data transfer/reception takes 1-byte (8-bit) at a time. If there is a 16-bit data to transfer, it has to be broken into two bytes before transfer.<br><br><span class="bbc_bold">(3)</span> &nbsp;SPI stands for "Synchronous Serial High Speed Full Duplex Peripheral Interface". <br><span class="bbc_bold">(a)</span> &nbsp;It is a "synchronous" network; because, clock pulses are required to shift-in and shift-out data bits. It is the Master which always generates the clock pulses.<br><br><span class="bbc_bold">(b)</span> &nbsp;It is a "high speed" network; because, it can handle as high as 8 Mbits/s compared to I2C's 3.4 Mbit/s and UART's 2 Mbit/s. <br><br><span class="bbc_bold">(c)</span> &nbsp;It is a "full duplex" network; because, data exchange between Master and Slave happens at the same time (Fig-7.2) compare to I2C's "half duplex". <br><br><span class="bbc_bold">(4)</span> &nbsp;The default speed of the UNO Board is 4 Mbits/s. &nbsp;For demonstrative experiments, it is recommended to set the speed at 1 Mbits/s. The speed of the SPI Port could be set to a desired value by the following code:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.setClockDivider(SPI_CLOCK_DIVX); &nbsp;//X = divide by 2, 4, 8, 16, 32, 64, 128 of 16 MHz</code><br><span class="bbc_bold">(5)</span> &nbsp;The SPI Port is initialized/activated/created and its IO lines (SS/, MOSI, MISO, SCK of Fig-7.1) are connected with external DPins (10, 11, 12, 13) when the following codes are included in the sketch.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">#include&lt;SPI.h&gt; &nbsp; &nbsp;//contains ready-made routines<br>SPI.begin(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //SPI Port is created and </code><br><span class="bbc_bold">SS/</span> (Slave Select): This is an output line and the default initial value is HIGH. It is connected with the corresponding "slave select/cs(chip select)" line of the target Slave. The Master asserts LOW signal on this line to select the target Slave.<br><br><span class="bbc_bold">MOSI</span> (Master-out Slave-in): It is an output line over which data bits from Master are shifted to Slave in synchronization with SCK (serial clock) signal (Fig-7.2). The default initial value of this line is LOW.<br><br><span class="bbc_bold">MISO</span> (Master-in Slave-out): This is an input line and it carries data bits from Slave to Master in synchronization with SCK signal (Fig-7.2).<br><br><span class="bbc_bold">SCK</span> (Serial Clock): This is an output line with default initial value of LOW. This line is connected with both SPDR Registers (Fig-7.2) of Master and Slave. Eight clock pulses are automatically generated on this line when 8-bit (1-byte) data are written on the SPDR Register of the Master. A SCK pulse simultaneously pushes-out a data bit from Master into Slave and pushes-in a data bit from Slave to Master.<br><br><span class="bbc_bold">(6)</span> &nbsp;To deactivate the SPI Port and to disconnect its IO lines form the external DPins, the following code is executed.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.end();</code><br><br><span class="bbc_bold">7.2 &nbsp;Master sends 1-byte data to Slave; Slave receives the data and shows it on its Serial Monitor</span><br>Assume that the Master wants to send 1-byte data (0x93) to the Slave. The following steps/tasks are to carried out:<br><span class="bbc_bold">(1)</span> &nbsp;Keep the data byte (0x93 = 1001 0011) into SPDR Register of Master (Fig-7.2).<br><br><span class="bbc_bold">(2)</span> &nbsp;Generate 8 SCK pulses to shift-out data bits (MSBit first) from Master and Shift-in into Slave. These 8 SCK pulses are automatically generated when the Master puts the said data byte (0x93) into its SPDR Register.<br><br><span class="bbc_bold">Notes:</span> <span class="bbc_bold">(a) </span>Observe that when MSBit (1) of 0x93 shifts-out, the "MSBit of the SPDR Register of Slave" enters into Bit0 position of the "SPDR Register of Master". Here, we see that there is a simultaneous exchange of data between Master and Slave -- a process known as <span class="bbc_bold">Full Duplex</span>. &nbsp; <br><br><span class="bbc_bold">(b)</span> &nbsp;Assume that the SPDR Register of Slave initially contains 0x87. Now at the end of 8-bit data exchange, SPDR Register of Master will hold .? (0x87).. and the SPDR Register of Slave will hold 0x93. <br><br><span class="bbc_bold">(c)</span> &nbsp;Assume SPI speed is set 1 Mbits/s. How much time would be required for the exchange of 1-byte data of Note-b? <br><span class="bbc_bold">Ans:</span> &nbsp;To exchange 8-bit data, 8 SCK pulses would be required. The duration of one SCK puls is: 1/(1x10<sup>6</sup>) = 1 us. Therefor, the required time period is: 8x1 = 8 us. <br><br><span class="bbc_bold">(d)</span> &nbsp;How does Slave know that the data byte 0x93 has arrived into its SPDR Register?<br><span class="bbc_bold">Ans:</span> &nbsp;After the arrival of the data byte into the SPDR Register of the Slave, the SPIF-flag of the SPSR Register (Fig-7.2) assumes HIGH. Now the Slave can detect the arrival of the data in the following ways:<br><span class="bbc_bold"><em>(i)</em></span> &nbsp;Keep checking that the SPIF flag is HIGH and then bring the data byte from the SPDR Register into a variable <span class="bbc_bold">x</span> by executing the following codes:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">while(bitRead(SPSR, SPIF) != HIGH)<br>{<br>&nbsp;&nbsp; &nbsp;; &nbsp; &nbsp;//check and wait<br>}<br>bitSet(SPSR, SPIF); &nbsp; &nbsp;//reset the SPIF flag<br>byte x = SPDR; &nbsp;//bring the arrived data byte into variable x</code><br><span class="bbc_bold"><em>(ii)</em></span> &nbsp;If "SPI Interrupt Logic" of Slave is enabled by executing this code: <span class="bbc_bold">SPI.attachInterrupt();</span> in the setup() function, then the HIGH condition of SPIF flag will interrupt the MCU/Slave. As a result, the MCU/Slave will enter into the following ISR routine, read the data from its SPDR Register and save into variable <span class="bbc_bold">x</span>. (Because Serial.print() command is not allowed in an ISR routine, the Slave sets the <span class="bbc_bold">flag</span> variable in the ISR routine. This <span class="bbc_bold">flag</span> variable is later on used/tested in the loop() function for <span class="bbc_bold">true</span> and then the value of <span class="bbc_bold">x</span> is shown on the Serial Monitor of the Slave.) <br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">ISR(SPI_STC_vect) &nbsp;//SPI Serial Transfer Complete ; vect = vector<br>{<br>&nbsp;&nbsp;x = SPDR; &nbsp; &nbsp; //the 8-bit content of SPDR Register of Slave enters into variable x.<br>&nbsp;&nbsp;flag = true; &nbsp; //this flag will be used in loop() function to show x in Serial Monitor by Serial.print() <br>}<br></code><br><span class="bbc_bold">(e)</span> &nbsp;How does Master know that the data byte 0x87 (Note-b) of the Slave has arrived into its SPDR Register? <span class="bbc_bold">Ans:</span> &nbsp;The answer is similar to that of Note-d. &nbsp; <br><br><span class="bbc_bold">(3) Master Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt; //Library file contains ready-made routines and the meanings of symbolic names<br><br>void setup()<br>{<br>&nbsp;&nbsp; &nbsp;SPI.begin(); &nbsp; &nbsp; &nbsp;//SPI Port is initialized, created, activate, and connected with external DPins<br>&nbsp;&nbsp; &nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16); //SPI speed = 1 Mbit/s = 16 MHz /16<br>&nbsp;&nbsp; &nbsp;//-------------------------------------------------------------------------------------------<br>&nbsp;&nbsp; &nbsp;SPDR = 0x93; &nbsp; //Master has put 0x93 into its SPDR Regsiter, which automatically enters into Slave<br>}<br><br>void loop()<br>{<br><br>}</code><br><span class="bbc_bold">(4) Slave Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt; &nbsp;//SPI.h file is needed for the meanings of SS and MISO symbolic names<br>volatile byte x;<br>volatile bool flag = false;<br><br>void setup()<br>{<br>&nbsp;&nbsp; &nbsp; Serial.begin(9600); &nbsp; //UART Port is initialized, created, activated, and connected with DPins-0, 1<br>&nbsp;&nbsp; &nbsp; //don't execute SPI.begin() in Slave sketch. Why? There is a problem. What is the problem? See Q21.<br>&nbsp;&nbsp; &nbsp; //--Initialize, create, and activate SPI Port for Slave; connect it with external Dpins- 10, 11, 12, 13<br>&nbsp;&nbsp; &nbsp; pinMode(SS, INPUT_PULLUP); &nbsp;//SS/-pin of Slave in made input with internal pull-up. This pi<br>&nbsp;&nbsp; &nbsp; pinMode(MISO, OUTPUT); &nbsp; &nbsp; &nbsp; &nbsp;//direction is: from Slave to Master<br>&nbsp;&nbsp; &nbsp; SPCR |= _BV(SPE); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //SPI Port is enabled <br>&nbsp;&nbsp; &nbsp; SPCR |= !(_BV(MSTR)); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//NANO is made to work as Slave; MSTR-bit = HIGH means Master<br>&nbsp;&nbsp; &nbsp; SPDR = 0x87; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//initial value kept in the SPDR Register of Slave<br>&nbsp;&nbsp; &nbsp; // SPCR |= _BV(SPIE); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//interrupt logic of Slave is enabled; _BV stands for BitValue<br>&nbsp;&nbsp; &nbsp; SPI.attachInterrupt(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //alternate code at Arduino level to enable interrupt logic of Slave<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp; &nbsp;if(flag == true) &nbsp; //flag is true -- means the MCU/Slave visited ISR routine and has kept value in x<br>&nbsp;&nbsp; &nbsp;{<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;Serial.print(x, HEX); &nbsp;//show the value of x onto Serial Monitor<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;flag = false; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//reset the flag<br>&nbsp;&nbsp; &nbsp;}<br>}<br><br>ISR(SPI_STC_vect) &nbsp;//MCU/Slave comes into this ISR routine when a data byte arrives to Slave<br>{<br>&nbsp;&nbsp; x = SPDR; &nbsp; &nbsp; //bring data from SPDR Register into variable x<br>&nbsp;&nbsp; flag = true; &nbsp; //set flag to tell loop() function that variaable x contains data that come from Master<br>}</code><br><br>...see next post.<br></div>
							</div>
							<div id="msg_4643416_footer" class="attachments">
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/spiblk.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;spiblk.png</a> 
											<br>14.46 KB<br>downloaded 812 times
										</div>
									</div>
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/spi328x.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;spi328x.png</a> 
											<br>23.55 KB<br>downloaded 754 times
										</div>
									</div>
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="https://forum.arduino.cc/index.php?action=dlattach;topic=690562.0;attach=369239"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;Ch-7OnlineLec.pdf</a> 
											<br>290.58 KB<br>downloaded 23 times
										</div>
									</div>
							</div>
							<div class="under_message">
								<ul class="floatleft smalltext">
									<li class="report_link"><a href="https://forum.arduino.cc/index.php?action=reporttm;topic=690562.0;msg=4643416">Report to moderator</a></li>
								</ul>
								<ul class="quickbuttons sf-js-enabled sf-arrows" style="touch-action: pan-y;">
									<li><a href="https://forum.arduino.cc/index.php?action=post;quote=4643416;topic=690562.0;last_msg=4646670" onclick="return oQuickReply.quote(4643416);" class="quote_button">Quote</a></li>
										<ul>
										</ul>
									
								</ul>
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div><div id="ad_container_zone" class="adv-banner"><script src="./Ch-7 SPI Port Based Serial Data Communication_files/ajs.php"></script></div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg4643418"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Offline"><span class="off" title="Offline"></span></a>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=610642" title="View the profile of GolamMostafa" class="pm_icon">GolamMostafa</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=610642"><img class="avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/GolamMostafa.jpeg" alt="avatar_GolamMostafa" onerror="this.src=&#39;//dcw9y8se13llu.cloudfront.net/avatars/default.png&#39;;"></a>
								</li>
								<li class="icons"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Faraday Member</li>
								<li class="postcount">Posts: 5,446</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Personal Message (Offline)"><span class="generic_icons im_off centericon" title="Personal Message (Offline)"></span> </a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 342&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=610642;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">[add]</a></li>
								<li class="poster_ip"><a href="https://forum.arduino.cc/index.php?action=helpadmin;help=see_member_ip" onclick="return reqOverlayDiv(this.href);" class="help">Logged</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon">
									<img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip.png" alt="">
								</div>
								<div id="subject_4643418" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=690562.msg4643418#msg4643418" rel="nofollow">Re: Ch-7  SPI Port Based Serial Data Communication</a></div>
								<div class="page_number floatright">
									 #1 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=690562.msg4643418#msg4643418" rel="nofollow" title="Reply #1 - Re: Ch-7  SPI Port Based Serial Data Communication" class="smalltext">Jun 15, 2020, 08:20 pm</a>
									<span class="smalltext modified" id="modified_4643418"><span class="lastedit">Last Edit</span>: Jun 19, 2020, 08:24 am by GolamMostafa</span>
								</h5>
								<div id="msg_4643418_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_4643418"><span class="bbc_bold">7.3 &nbsp;Master asks the Slave to send 2-byte data. Slave sends the data item to Master; Master receives the data item and then shows it on its Serial Monitor</span><br><span class="bbc_bold">Master Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>byte myData[] = {0x00, 0x00};//,<br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//1 MBits/s<br>&nbsp;&nbsp;//pinMode(SS, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(SS, LOW); &nbsp;//Slave is selected<br>&nbsp;&nbsp;//--------------------<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;for (int i = 0; i &lt; 2; i++)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;myData[i] = SPI.transfer(myData[i]);<br>&nbsp;&nbsp; &nbsp;//delayMicroseconds(100); //allows Slave to process received byte<br>&nbsp;&nbsp; &nbsp;Serial.println(myData[i], HEX); &nbsp;//shows: 0xAB<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;int x = (int)myData[1] &lt;&lt; 8 | (int)myData[0];<br>&nbsp;&nbsp;Serial.println(x, HEX); //shows: 0x12345678<br>&nbsp;&nbsp;Serial.println("======================");<br>&nbsp;&nbsp;delay(1000); &nbsp;//test interval<br>}</code><br><span class="bbc_bold">Slave Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>int i = 0;<br>byte myData[] = {0x12, 0x34};//<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//<br>&nbsp;&nbsp;pinMode(SS, INPUT_PULLUP); &nbsp;// ensure SS stays high for now<br>&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>&nbsp;&nbsp;SPCR |= _BV(SPE);<br>&nbsp;&nbsp;SPCR |= !(_BV(MSTR)); //Arduino is Slave<br>&nbsp;&nbsp;SPI.attachInterrupt(); &nbsp; //interrupt logic is enabled<br>}<br><br>void loop()<br>{<br><br>}<br><br>ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp;SPDR = myData[i]; //places 0x12, then 0x34, then 0x56, then 0xAB<br>&nbsp;&nbsp;i++;<br>&nbsp;&nbsp;if (i == 2) &nbsp; &nbsp; //2-byte data are sent<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;i = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//array pointer is reset<br>&nbsp;&nbsp;}<br>}</code><br><span class="bbc_bold">Master Serial Monitor:</span><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/sm1234.png" alt="" width="500" height="343" class="bbc_img resized"><br>Fig-7.3:<br><br><span class="bbc_bold">7.4 &nbsp;Questions and Answers</span><br><span class="bbc_bold">Q1.</span> &nbsp;Assume that the SPDR Registers of Master and Slave (Fig-7.2) contain 0x93 and 0x87 respectively. Write sketches for both Master and Slave for the exchange of data between them and show the received values in their respective Serial Monitors.<br><span class="bbc_bold">Ans:</span> &nbsp;<span class="bbc_bold">Master Sketch:</span><br><span class="bbc_bold">(1)</span> &nbsp;Let us start with two blank functions -- setup() function and loop() function (Step-(9)). Leave some space on the top of setup() function to include global variables and Library file.<br><br><span class="bbc_bold">(2)</span> &nbsp;Place the following code in the setup() function to connect the Serial Monitor. <br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">Serial.begin(9600);</code><br><span class="bbc_bold">(3)</span> &nbsp;Place the following codes in the setup() function to connect the SPI Port and to select the Slave.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.begin();<br>digitalWrite(SS, LOW); &nbsp; //</code><br><span class="bbc_bold">(4)</span> &nbsp;Place the following code in the setup() function to set the SPI speed at 1 Mbits/sec.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.setClockDivider(SPI_CLOCK_DIV16); &nbsp;//SPI speed = 16 MHz/16 = 1Mbits/s</code><br><span class="bbc_bold">(5)</span> &nbsp;Use the following code to place <span class="bbc_bold">SPI.h</span> Library at the global space in order to use ready-made routines/functions.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">#include&lt;SPI.h&gt;</code><br><span class="bbc_bold">(6)</span> &nbsp;<span class="bbc_bold">(a)</span> &nbsp;Place the following code (in the setup() function) to put data byte 0x93 into SPDR Register.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPDR = 0x93; &nbsp; //data byte will automatically enter into SPDR Register of Slave</code><br><span class="bbc_bold">(b)</span> &nbsp;The above code could be replaced by the following Arduino Code:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.transfer(0x93); &nbsp; &nbsp;//valid only for Master</code><br><span class="bbc_bold">(7)</span> <span class="bbc_bold">(a)</span> &nbsp;The data from Slave has probably arrived at Master. To ensure that the data has really arrived, we can check the value of SPIF flag of SPSR Register (Fig-7.2). So, the Master has to wait until SPIF flag goes to HIGH state. Place the following codes in the setup() function:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">while(bitRead(SPSR, SPIF) != HIGH)<br>{<br>&nbsp;&nbsp; ; &nbsp; &nbsp;//null statement for waiting and checking that SPIF flag is HIGH<br>}<br>byte x = SPDR; &nbsp; &nbsp;//data has arrived from Slave<br>bitSet(SPSR, SPIF); &nbsp; &nbsp;//reset SPIF flag by putting HIGH at the SPIF position of the SPSR Register</code><br>The codes of Step-6(a) and 7(a) could be replaced by the following Arduino Code:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">byte x = SPI.transfer(0x93);</code><br><span class="bbc_bold">(b)</span> &nbsp;The Master could be known about the arrival of data byte from Slave by <span class="bbc_bold">interrupt process.</span>. The interrupt process becomes enabled when the following code is placed in the setup() function.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.attachInterrupt();</code><br>After the arrival of data from the Slave, the MCU/Master is automatically interrupted; the Master goes to the following ISR routine and saves the data in variable <span class="bbc_bold">x</span>. A flag is set to <span class="bbc_bold">true</span> in the ISR routine, which allows the loop() function to show the value of <span class="bbc_bold">x</span> in the Serial Monitor using Serial.print() command.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp; x = SPDR; &nbsp; &nbsp;//read operation; data (that has come from Slave) is now in SPDR Register of Master<br>&nbsp;&nbsp; flag = true<br>}</code><br>Include the above codes (the codes of ISR routine) at the end of loop() function of Master sketch.<br><br><span class="bbc_bold">(8)</span> &nbsp;Place the following codes in the loop() function of the Blank Sketch of Step-(9) to show the value of variable <span class="bbc_bold">x</span> in Serial Monitor.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">void loop()<br>{<br>&nbsp;&nbsp; if(flag == true)<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp; &nbsp; &nbsp;Serial.print(x, HEX); &nbsp; // shows: 0x87 which has arrived from Slave in exchange of 0x93<br>&nbsp;&nbsp; &nbsp; &nbsp;flag = false; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//flag is reset<br>&nbsp;&nbsp; }<br>}</code><br><br><span class="bbc_bold">(9)</span> &nbsp;<span class="bbc_bold">(a)</span> &nbsp;Blank Master Sketch//------------------------------------------------------------------<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">void setup()<br>{<br><br>}<br><br>void loop()<br>{<br><br>}<br><br>ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp; x = SPDR; &nbsp; &nbsp;//read operation; data (that has come from Slave) is now in SPDR Register of Master<br>&nbsp;&nbsp; flag = true<br>}</code><br>//----------------------------------------------------------------------------------------------------------------<br><span class="bbc_bold">(b)</span> &nbsp;Filled up Master Sketch<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//<br>&nbsp;&nbsp;//pinMode(SS, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(SS, LOW);<br>&nbsp;&nbsp;//--------------------<br>&nbsp;&nbsp;<br><br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;SPDR = 0x93;<br>&nbsp;&nbsp;while (bitRead(SPSR, SPIF) != HIGH)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;byte x = SPDR;<br>&nbsp;&nbsp;bitSet(SPSR, SPIF);<br>&nbsp;&nbsp;Serial.println(x, HEX); //shows: 0x87<br>&nbsp;&nbsp;while (1);<br>}</code><br><span class="bbc_bold">Slave Sketch:</span><br><span class="bbc_bold">(1)</span> &nbsp;Let us begin with two blank functions -- setup(0 function and loop() function (Step-(9)). Leave some space on the top of setup() function to include global variables and Library file.<br><br><span class="bbc_bold">(2)</span> &nbsp;In the global space, place the following code to take advantage of the read-made functions of the SPI.h Library.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">#include&lt;SPI.h&gt;</code><br><span class="bbc_bold">(3)</span> &nbsp;In the setup() function, place the following code to connect the Serial Monitor.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">Serial.begin(9600);</code><br><span class="bbc_bold">(4)</span> &nbsp;To operate SPI Port, it is required to furnish the "SPI settings" (listed below) for both Master and Slave; where, the settings must be the same. Have we done these settings for Master? The answer is -- apparently no; but, these were (in fact) done under the umbrella of the execution of <span class="bbc_bold">SPI.begin();</span> code in the Master Sketch. For some reasons (to be explained later), the <span class="bbc_bold">SPI.begin();</span> code is not executed in the Slave Sketch; therefore, the "SPI Settings" for the Slave must be done manually. The settings are:<br><span class="bbc_bold">(a)</span> &nbsp;Select option to enable "SPI Interrupt Logic",<br><span class="bbc_bold">(b)</span> &nbsp;Connect/enable SPI Port with external DPins,<br><span class="bbc_bold">(c)</span> &nbsp;Select which bit would be shifted out first,<br><span class="bbc_bold">(d)</span> &nbsp;Select Master or Slave,<br><span class="bbc_bold">(e)</span> &nbsp;Select Idle level of SCK line -- LOW or HIGH (this is CPOL = clock polarity),<br><span class="bbc_bold">(f)</span> &nbsp; Select edge of SCK signal to sample data -- rising/falling edge (this is CPHA = clock phase),<br><span class="bbc_bold">(g)</span> &nbsp;Select bit/s (speed),<br>//----------------------------------------------------------------------------<br><span class="bbc_bold">(h)</span> &nbsp;Select "input mode with internal pull-up resistor' for SS/-pin,<br><span class="bbc_bold">(i)</span> &nbsp;Select "output mode' for MISO signal, and<br><span class="bbc_bold">(j)</span> &nbsp;Select "input mode' for SCK signal<br>//---------------------------------------------------------------------------------------<br><br>... see next post/page.<br></div>
							</div>
							<div id="msg_4643418_footer" class="attachments">
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/multicomSPIy.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;multicomSPIy.png</a> 
											<br>13.84 KB<br>downloaded 639 times
										</div>
									</div>
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/SPCR.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;SPCR.png</a> 
											<br>9.28 KB<br>downloaded 581 times
										</div>
									</div>
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/sm1234.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;sm1234.png</a> 
											<br>8.82 KB<br>downloaded 397 times
										</div>
									</div>
							</div>
							<div class="under_message">
								<ul class="floatleft smalltext">
									<li class="report_link"><a href="https://forum.arduino.cc/index.php?action=reporttm;topic=690562.1;msg=4643418">Report to moderator</a></li>
								</ul>
								<ul class="quickbuttons sf-js-enabled sf-arrows" style="touch-action: pan-y;">
									<li><a href="https://forum.arduino.cc/index.php?action=post;quote=4643418;topic=690562.0;last_msg=4646670" onclick="return oQuickReply.quote(4643418);" class="quote_button">Quote</a></li>
										<ul>
										</ul>
									
								</ul>
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg4643419"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Offline"><span class="off" title="Offline"></span></a>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=610642" title="View the profile of GolamMostafa" class="pm_icon">GolamMostafa</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=610642"><img class="avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/GolamMostafa.jpeg" alt="avatar_GolamMostafa" onerror="this.src=&#39;//dcw9y8se13llu.cloudfront.net/avatars/default.png&#39;;"></a>
								</li>
								<li class="icons"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Faraday Member</li>
								<li class="postcount">Posts: 5,446</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Personal Message (Offline)"><span class="generic_icons im_off centericon" title="Personal Message (Offline)"></span> </a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 342&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=610642;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">[add]</a></li>
								<li class="poster_ip"><a href="https://forum.arduino.cc/index.php?action=helpadmin;help=see_member_ip" onclick="return reqOverlayDiv(this.href);" class="help">Logged</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./Ch-7 SPI Port Based Serial Data Communication_files/xx.png" alt="">
								</div>
								<div id="subject_4643419" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=690562.msg4643419#msg4643419" rel="nofollow">Re: Ch-7  SPI Port Based Serial Data Communication</a></div>
								<div class="page_number floatright">
									 #2 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=690562.msg4643419#msg4643419" rel="nofollow" title="Reply #2 - Re: Ch-7  SPI Port Based Serial Data Communication" class="smalltext">Jun 15, 2020, 08:21 pm</a>
									<span class="smalltext modified" id="modified_4643419"><span class="lastedit">Last Edit</span>: Jun 19, 2020, 08:25 am by GolamMostafa</span>
								</h5>
								<div id="msg_4643419_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_4643419">To accomplish the above "tasks/steps", we may include the following codes in the setup() function. The coding of "first 7 tasks/steps" involves the SPCR Register (Fig-7.2, 7.3) of the ATmega328P MCU of the UNO Board.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">bitSet(SPCR, SPIE); &nbsp; &nbsp; &nbsp; //SPIE = 1; SPI interrupt logic is enabled; Step-a<br>bitSet(SPCR, SPE); &nbsp; &nbsp; &nbsp; &nbsp;//SPE =1; &nbsp;SPI enable; Step-b<br>bitClear(SPCR, DORD); &nbsp; //DORD = 0; Data bit shift order (MSBit first); Step-c<br>bitClear(SPCR, MSTR); &nbsp; //MSTR = 0; NANO is a Slave; Step-d<br>bitClear(SPCR, CPOL); &nbsp; &nbsp;//CPOL = 0; clock polarity (LOW); Step-e<br>bitClear(SPCR, CPHA); &nbsp; &nbsp;//CPHA = 0; clock phase (leading edge sampling); Step-f<br>SPI.setClockDivider(SPI_CLOK_DIV16); &nbsp; //1 Mbits/s ; Step-g<br>//-----------------------------------------------------------------------------------------<br>pinMode(SS, INPUT_PULLUP); &nbsp; //meaning of SS is known from SPI.h Library file; Step-h<br>pinMode(MISO, OUTPUT); &nbsp; &nbsp; &nbsp; &nbsp; //meaning of MISO is known from SPI.h file; Step-i<br>pinMode(SCK, INPUT); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //meaning of SCK is known from SPI.h file; Step-j</code><br>//-----------------------------------------------------------------------------------------<br><br><span class="bbc_bold">Note:</span> &nbsp;The "first 6 tasks/steps" could be summarized by the following codes as some of the tasks are at the required states by default (Fig-7.4).<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPCR |= _BV(SPE); &nbsp; &nbsp; //Step-b; _BV(SPE) stands for "Bit Value of SPE-bit is 1"<br>SPCR |= !(_BV(MSTR)); &nbsp; &nbsp; &nbsp;//Step-d<br>SPCR |= _BV(SPIE); &nbsp; &nbsp; &nbsp; &nbsp; //Step-a<br>// &nbsp;SPI.attachInterrupt(); &nbsp; &nbsp; //alternate Arduino code for Step-a</code><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/SPCR.png" alt="" width="500" height="93" class="bbc_img resized"><br>Figure-7.4: Bit layout of SPCR Register <br><br><span class="bbc_bold">(5)</span> &nbsp;Place the following line in setup() function to store 0x87 (intial value) into SPDR Register.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPDR = 0x87;</code><br><span class="bbc_bold">Question:</span> &nbsp;Can the above code be replaced by the following code?<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">SPI.transfer(0x87);</code><br><span class="bbc_bold">(6)</span> &nbsp;When data byte will arrive from Master, the Slave will be automatically interrupted; the Slave will enter into the following ISR routine; it will keep data in the variable <span class="bbc_bold">x</span> and then will set <span class="bbc_bold">flag</span> to true to allow the loop(0 function to show the value of <span class="bbc_bold">x</span> in the Serial Monitor. <br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">ISR(SPI_STC_vect()</code><br>Place the above ISR routine along with necessary codes at the end of loop() function of Step-(9).<br><br><span class="bbc_bold">(7)</span> &nbsp;Place the following codes in the loop() function to show the received value on Serial Monitor.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">void loop()<br>{<br>&nbsp;&nbsp; if(flag == true)<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp; &nbsp; &nbsp;Serial.print(x, HEX); &nbsp;//shows: 0x93<br>&nbsp;&nbsp; &nbsp; &nbsp;flag = false; &nbsp; //reset flag<br>&nbsp;&nbsp; }<br>}</code><br><span class="bbc_bold">(8)</span> &nbsp;Place the following declarations in the global area (at the top of setup() function).<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">volatile byte x;<br>volatile bool flag = false;</code><br><span class="bbc_bold">(9)</span> &nbsp;<span class="bbc_bold">(a)</span> &nbsp;Blank Slave Sketch //------------------------------------<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">void setup()<br>{<br><br>}<br><br>void loop()<br>{<br><br>}<br><br>ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp; x = SPDR; &nbsp; &nbsp;//read operation; data (that has come from Slave) is now in SPDR Register of Master<br>&nbsp;&nbsp; flag = true<br>}<br></code><br><span class="bbc_bold">(b)</span> &nbsp;Filled up Slave Sketch:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//<br>&nbsp;&nbsp;pinMode(SS, INPUT_PULLUP); &nbsp;// ensure SS stays high for now<br>&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>&nbsp;&nbsp;SPCR |= _BV(SPE);<br>&nbsp;&nbsp;SPCR |= !(_BV(MSTR)); //Arduino is Slave<br>&nbsp;&nbsp;//SPCR |= _BV(SPIE);<br>&nbsp;&nbsp;//SPI.attachInterrupt();<br>&nbsp;&nbsp;//SPDR = myData[0];<br>&nbsp;&nbsp;SPDR = 0x87;<br><br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;while (bitRead(SPSR, SPIF) != HIGH)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;byte x = SPDR;<br>&nbsp;&nbsp;bitSet(SPSR, SPIF);<br>&nbsp;&nbsp;Serial.println(x, HEX); //shows: 0x93<br>}</code><br><span class="bbc_bold">Program Execution:</span><br><span class="bbc_bold">(1)</span> &nbsp;Upload Master Sketch and Slve Sketch.<br><span class="bbc_bold">(2)</span> &nbsp;Press down and hold RESET buttons of both Arduinos.<br><span class="bbc_bold">(3)</span> &nbsp;Release RESET button of Slave.<br><span class="bbc_bold">(4)</span> &nbsp;Release RESET button of Master.<br><span class="bbc_bold">(5)</span> &nbsp;Check that 0x93 has appeared on the Serial Monitor of Slave and 0x87 has appeared on the Serial Monitor of Master.<br><br><span class="bbc_bold">Q2.</span> &nbsp;Write sketches for both Master and Slave of Q1 where arrived data would be read on interrupt process.<br><br><span class="bbc_bold">Q3.</span> &nbsp;Write sketch for Master of Fig-7.2 to send the data item 0x3456 to the Slave. Also, write sketch for the Slave to receive the data sent from Master and show in the Serial Monitor of Slave. <br><span class="bbc_bold">Ans:</span> <span class="bbc_bold">Master Sketch</span><br><span class="bbc_bold">(1)</span> &nbsp;Initialize everything as needed with SPI speed 1 Mbits/s.<br><span class="bbc_bold">(2)</span> &nbsp;Include the following codes to send 0x3456 into Slave over two bus transactions; where, each transaction will send 1-byte data to the Slave and then wait for sufficient time to allow the Slave to process the received byte and then get ready for the next byte.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">int x = 0x3456;<br>byte y1 = SPI.transfer(highByte(x));<br>delayMicroseconds(100); //wait for 50 us; transfer time 8 us + extra overhead time; see Slave sketch<br>//---------------------------------------<br>byte y2 = SPI.transfer(lowByte(x)); &nbsp; //goes 0x56<br>delayMicroseconds(100);</code><br><span class="bbc_bold">Complete Master Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>int x = 0x3456;<br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//1 MBits/s<br>&nbsp;&nbsp;//pinMode(SS, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(SS, LOW); &nbsp;//Slave is selected<br>&nbsp;&nbsp;//--------------------<br>&nbsp;&nbsp;SPI.transfer(highByte(x));<br>&nbsp;&nbsp;delayMicroseconds(100);<br>&nbsp;&nbsp;SPI.transfer(lowByte(x));<br>&nbsp;&nbsp;delayMicroseconds(100);<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;<br>}</code><br><span class="bbc_bold">Slave Sketch:</span><br><span class="bbc_bold">(1)</span> &nbsp;Initialize everything as needed with SPI speed 1 Mbits/s.<br><span class="bbc_bold">(2)</span> &nbsp;Include the following codes in the sketch to store the &nbsp;received bytes into myData[] array.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp; myData[i] = SPDR; &nbsp; //store upper byte (0x34) and then lower byte (0x56)<br>&nbsp;&nbsp; i++;<br>&nbsp;&nbsp; if(i == 2) &nbsp; &nbsp; //2 bytes have been received<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;flag = true; &nbsp; &nbsp;//to allow loop(0 function to show the received value on Serial Monitor<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;i = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//reset array index<br>&nbsp;&nbsp; }<br>}</code><br><br><span class="bbc_bold">(3)</span> &nbsp;Include the following codes in the loop() function.<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">void loop()<br>{<br>&nbsp;&nbsp; if(flag == true)<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;int y = myData[0]&lt;&lt;8 | myData[1]; //forming original 0x3456 data item<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;Serial.print(y, HEX); &nbsp; &nbsp; //shows: 0x3456<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;flag = false; &nbsp; //flag reset<br>&nbsp;&nbsp; }<br>}</code><br><span class="bbc_bold">Complete Slave Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>int i = 0;<br>volatile bool flag = false;<br><br>volatile byte myData[2]; &nbsp;//array to hold received bytes from Master<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//<br>&nbsp;&nbsp;pinMode(SS, INPUT_PULLUP); &nbsp;// ensure SS stays high for now<br>&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>&nbsp;&nbsp;SPCR |= _BV(SPE);<br>&nbsp;&nbsp;SPCR |= !(_BV(MSTR)); //Arduino is Slave<br>&nbsp;&nbsp;SPI.attachInterrupt(); &nbsp; //interrupt logic is enabled<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;if(flag == true)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;int x = myData[0]&lt;&lt;8|myData[1];<br>&nbsp;&nbsp; &nbsp;Serial.println(x, HEX); &nbsp;//shows: 0x3456<br>&nbsp;&nbsp; &nbsp;flag = false;<br>&nbsp;&nbsp;}<br>}<br><br>ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp;myData[i] = SPDR; //received bytes are kept in array<br>&nbsp;&nbsp;i++;<br>&nbsp;&nbsp;if(i == 2)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;flag = true; &nbsp; &nbsp; //data received complete<br>&nbsp;&nbsp; &nbsp;i = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//array pointer is reset<br>&nbsp;&nbsp;}<br>}</code><br><span class="bbc_bold">Program Execution:</span><br><span class="bbc_bold">(1)</span> &nbsp;Upload Master sketch and Slave sketch.<br><span class="bbc_bold">(2)</span> &nbsp;Press and hold RESET buttons on both Arduinos.<br><span class="bbc_bold">(3)</span> &nbsp;Release the RESET button of Slave.<br><span class="bbc_bold">(4)</span> &nbsp;Release the RESET button of Master.<br><span class="bbc_bold">(5)</span> &nbsp;Check that Slave's Serial Monitor shows: 0x3456.<br><span class="bbc_bold">(6)</span> &nbsp;Repeat the process going to Step-2.<br><br><span class="bbc_bold">Q4.</span> &nbsp;Write expanded codes for the following single line code;<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">byte x = SPI.transfer(0x93);</code><br><span class="bbc_bold">Q5.</span> &nbsp;Describe briefly -- what does happen when the Master of Fig-7.2 executes the following code?<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">byte x = SPI.transfer(0x93);</code><br><br><br>... to be continued.</div>
							</div>
							<div class="under_message">
								<ul class="floatleft smalltext">
									<li class="report_link"><a href="https://forum.arduino.cc/index.php?action=reporttm;topic=690562.2;msg=4643419">Report to moderator</a></li>
								</ul>
								<ul class="quickbuttons sf-js-enabled sf-arrows" style="touch-action: pan-y;">
									<li><a href="https://forum.arduino.cc/index.php?action=post;quote=4643419;topic=690562.0;last_msg=4646670" onclick="return oQuickReply.quote(4643419);" class="quote_button">Quote</a></li>
										<ul>
										</ul>
									
								</ul>
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg4643420"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Offline"><span class="off" title="Offline"></span></a>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=610642" title="View the profile of GolamMostafa" class="pm_icon">GolamMostafa</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=610642"><img class="avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/GolamMostafa.jpeg" alt="avatar_GolamMostafa" onerror="this.src=&#39;//dcw9y8se13llu.cloudfront.net/avatars/default.png&#39;;"></a>
								</li>
								<li class="icons"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Faraday Member</li>
								<li class="postcount">Posts: 5,446</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Personal Message (Offline)"><span class="generic_icons im_off centericon" title="Personal Message (Offline)"></span> </a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 342&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=610642;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">[add]</a></li>
								<li class="poster_ip"><a href="https://forum.arduino.cc/index.php?action=helpadmin;help=see_member_ip" onclick="return reqOverlayDiv(this.href);" class="help">Logged</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon">
									<img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip.png" alt="">
								</div>
								<div id="subject_4643420" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=690562.msg4643420#msg4643420" rel="nofollow">Re: Ch-7  SPI Port Based Serial Data Communication</a></div>
								<div class="page_number floatright">
									 #3 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=690562.msg4643420#msg4643420" rel="nofollow" title="Reply #3 - Re: Ch-7  SPI Port Based Serial Data Communication" class="smalltext">Jun 15, 2020, 08:21 pm</a>
									<span class="smalltext modified" id="modified_4643420"><span class="lastedit">Last Edit</span>: Jun 30, 2020, 06:45 pm by GolamMostafa</span>
								</h5>
								<div id="msg_4643420_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_4643420"><span class="bbc_bold">Q6.</span>Write codes to acquire 4-byte data (say: 0x123456AB) from a SPI Slave using SPI.transfer() instruction.<br><span class="bbc_bold">Ans:</span> <br><span class="bbc_bold">Master Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//1 MBits/s<br>&nbsp;&nbsp;//pinMode(SS, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(SS, LOW); &nbsp;//Slave is selected<br>&nbsp;&nbsp;//--------------------<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;byte x0 = SPI.transfer(0x00);//first brings garbage and then LSByte<br>&nbsp;&nbsp;delayMicroseconds(100); //allows Slave to process received byte<br>&nbsp;&nbsp;Serial.println(x0, HEX); &nbsp;//shows: 0xAB<br>&nbsp;&nbsp;//---------------------------<br>&nbsp;&nbsp;byte x1 = SPI.transfer(0x00); //x1 = 0x12<br>&nbsp;&nbsp;delayMicroseconds(100);<br>&nbsp;&nbsp;Serial.println(x1, HEX); &nbsp;//shows: 0x12<br>&nbsp;&nbsp;//---------------------------<br>&nbsp;&nbsp;byte x2 = SPI.transfer(0x00); &nbsp;//x2 = 0x34<br>&nbsp;&nbsp;delayMicroseconds(100);<br>&nbsp;&nbsp;Serial.println(x2, HEX); &nbsp; &nbsp;//shows: 0x34<br>&nbsp;&nbsp;//---------------------------<br>&nbsp;&nbsp;byte x3 = SPI.transfer(0x00);<br>&nbsp;&nbsp;delayMicroseconds(100);<br>&nbsp;&nbsp;Serial.println(x3, HEX); //x3 = 0x56<br>&nbsp;&nbsp;//---------------------------<br>&nbsp;&nbsp;long x = (long)x1&lt;&lt;24|(long)x2&lt;&lt;16|(long)x3&lt;&lt;8|(long)x0;<br>&nbsp;&nbsp;Serial.println(x, HEX); //shows: 0x12345678<br>&nbsp;&nbsp;Serial.println("======================");<br>&nbsp;&nbsp;delay(1000); &nbsp; //test interval<br>}</code><br><span class="bbc_bold">Slave Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>int i = 0;<br>byte myData[] = {0x12, 0x34, 0x56, 0xAB};<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//<br>&nbsp;&nbsp;pinMode(SS, INPUT_PULLUP); &nbsp;// ensure SS stays high for now<br>&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>&nbsp;&nbsp;SPCR |= _BV(SPE);<br>&nbsp;&nbsp;SPCR |= !(_BV(MSTR)); //Arduino is Slave<br>&nbsp;&nbsp;SPI.attachInterrupt(); &nbsp; //interrupt logic is enabled<br>}<br><br>void loop()<br>{<br><br>}<br><br>ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp;SPDR = myData[i]; //places 0x12, then 0x34, then 0x56, then 0xAB<br>&nbsp;&nbsp;i++;<br>&nbsp;&nbsp;if (i == 4) &nbsp; &nbsp; //4-byte data are sent<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;i = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//array pointer is reset<br>&nbsp;&nbsp;}<br>}</code><br><span class="bbc_bold">Master Serial Monitor</span><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/smaq.png" alt="" width="500" height="340" class="bbc_img resized"><br>Fig-7.5:<br><br><span class="bbc_bold">Q7:</span> &nbsp;Repeat Master Sketch of Q6 using for() loop. The Slave Sketch will remain the same.<br><span class="bbc_bold">Ans:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>byte myData[] = {0x00, 0x00, 0x00, 0x00};<br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//1 MBits/s<br>&nbsp;&nbsp;//pinMode(SS, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(SS, LOW); &nbsp;//Slave is selected<br>&nbsp;&nbsp;//--------------------<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;for (int i = 0; i &lt; 4; i++)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;myData[i] = SPI.transfer(myData[i]);<br>&nbsp;&nbsp; &nbsp;delayMicroseconds(100); //allows Slave to process received byte<br>&nbsp;&nbsp; &nbsp;Serial.println(myData[i], HEX); &nbsp;//shows: 0xAB<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;long x = (long)myData[1] &lt;&lt; 24 | (long)myData[2] &lt;&lt; 16 | (long)myData[3] &lt;&lt; 8 | (long)myData[0];<br>&nbsp;&nbsp;Serial.println(x, HEX); //shows: 0x12345678<br>&nbsp;&nbsp;Serial.println("======================");<br>&nbsp;&nbsp;delay(1000); &nbsp;//test interval<br>}</code><br><br><span class="bbc_bold">Q8.</span> &nbsp;Write sketches for both Master and Slave of Fig-7.2 to acquire this float number: 32.67 from the SPI Slave.<br><span class="bbc_bold">Ans:</span><br><span class="bbc_bold">Master Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>byte myData[] = {0x00, 0x00, 0x00, 0x00};<br><br>union myUData<br>{<br>&nbsp;&nbsp;float x;<br>&nbsp;&nbsp;byte myBytes[4];<br>};<br><br>myUData data; &nbsp; &nbsp;//user defined data type myData is created using union keyword<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//1 MBits/s<br>&nbsp;&nbsp;//pinMode(SS, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(SS, LOW); &nbsp;//Slave is selected<br>&nbsp;&nbsp;//--------------------<br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp;for (int i = 0; i &lt; 4; i++)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;myData[i] = SPI.transfer(myData[i]);<br>&nbsp;&nbsp; &nbsp;delayMicroseconds(100); //allows Slave to process received byte<br>&nbsp;&nbsp; &nbsp;Serial.println(myData[i], HEX); &nbsp;//shows: 0xAB, 0x12, 0x34, 0x56<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;data.myBytes[3] = myData[0];<br>&nbsp;&nbsp;data.myBytes[0] = myData[1];<br>&nbsp;&nbsp;data.myBytes[1] = myData[2];<br>&nbsp;&nbsp;data.myBytes[2] = myData[3];<br>&nbsp;&nbsp;Serial.println(data.x, 2);//shows: 32.67<br>&nbsp;&nbsp;Serial.println("======================");<br>&nbsp;&nbsp;delay(1000); &nbsp;//test interval<br>}</code><br><span class="bbc_bold">Slave Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include&lt;SPI.h&gt;<br>int i = 0;<br>byte myData[] = {0x12, 0x34, 0x56, 0xAB};<br><br>union myUData<br>{<br>&nbsp;&nbsp;float x;<br>&nbsp;&nbsp;byte myBytes[4];<br>};<br><br>myUData data;<br><br>void setup()<br>{<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;data.x = 32.67;<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16);//<br>&nbsp;&nbsp;pinMode(SS, INPUT_PULLUP); &nbsp;// ensure SS stays high for now<br>&nbsp;&nbsp;pinMode(MISO, OUTPUT);<br>&nbsp;&nbsp;SPCR |= _BV(SPE);<br>&nbsp;&nbsp;SPCR |= !(_BV(MSTR)); //Arduino is Slave<br>&nbsp;&nbsp;SPI.attachInterrupt(); &nbsp; //interrupt logic is enabled<br>}<br><br>void loop()<br>{<br><br>}<br><br>ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp;SPDR = data.myBytes[i]; //places 0x12, then 0x34, then 0x56, then 0xAB<br>&nbsp;&nbsp;i++;<br>&nbsp;&nbsp;if (i == 4) &nbsp; &nbsp; //4-byte data are sent<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp; &nbsp;i = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//array pointer is reset<br>&nbsp;&nbsp;}<br>}</code><br><span class="bbc_bold">Master Serial Monitor:</span><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/smkj.png" alt="" width="500" height="340" class="bbc_img resized"><br>Fig-7.6<br><br><span class="bbc_bold">Q9.</span> &nbsp;Based on the following SPI network (Fig-7.7), collect temperature signal from the Slave and show it on SM1 at 2-sec interval with 2-digit after the decimal point.<br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/multicomSPIy.png" alt="" width="500" height="168" class="bbc_img resized"><br>Figure-7.7: SPI Port connection between UNO and NANO to operate LM35 temperature sensor<br><br><span class="bbc_bold">Master Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">void setup()<br>{<br><br>}<br><br>void loop()<br>{<br><br>}</code><br><br><span class="bbc_bold">Slave Sketch:</span><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">void setup()<br>{<br><br>}<br><br>void loop()<br>{<br>&nbsp;&nbsp; float myTemp = (float)100 * (1.1 / 1023.0) * analogRead(A0);<br>&nbsp;&nbsp; data.x = myTemp;<br>&nbsp;&nbsp; Serial.println(myTemp, 2);<br>&nbsp;&nbsp; delay(2000); &nbsp; &nbsp;//temperature being acquired at 2-sec interval; Master takes at 1-sec interval<br>}<br><br>ISR(SPI_STC_vect)<br>{<br><br>}</code><br><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/smLM35.png" alt="" width="500" height="347" class="bbc_img resized"><br><span class="bbc_bold">Master Serial Monitor:</span><br>Fig-7.8:<br><br><span class="bbc_bold">10.</span> &nbsp;How does SPI Slave get interrupted when data arrives?<br>Let us see the source of SPI interrupt with the help of the following diagram (Fig-7.9):<br><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/spi328x(1).png" alt="" width="500" height="239" class="bbc_img resized"><br>Figure-7.9:<br><br>When Master executes this code SPDR = 0x23 (or SPI.transfer(0x23), 8 clock pulses are automatically generated on the SCK line to shift-in the data bits into the SPDR Register (SPI Data Register) of Slave. <br><br>Assuming SPI speed is 1 Mbits/s, then the above data will take 8 us ((1/1000000)*8) time to reach to the SPDR Register of &nbsp;Slave. Once, the data is present/ready in the SPDR Register of the Slave, the SPIF flag/bit of the SPSR (SPI Status Register) asumes HIGH state. If interrupt logic is already enabled, then this SPIF flag will interrupt the MCU (Fig-7.10). As a result, the MCU will suspend the "Main Line Program (MLP)" and then will automatically jump to the following ISR routine. (There is no way we can change these words: ISR (Interrupt Service Routine), SPI (Serial Peripheral Interface), STC Serial Transfer Complete), vect (Vectoring at this particular ISR) of the ISR routine.)<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;">ISR(SPI_STC_vect)<br>{<br>&nbsp;&nbsp; &nbsp;//insert minimum codes here; data ready in SPDR; read data but do not print here<br>}</code><br><img src="./Ch-7 SPI Port Based Serial Data Communication_files/SPIInterrupt.png" alt="" width="500" height="121" class="bbc_img resized"><br>Figure-7.10: Role of SPIF flag to generate SPI interrupt.<br><br>...to be continued.</div>
							</div>
							<div id="msg_4643420_footer" class="attachments">
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/smaq.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;smaq.png</a> 
											<br>9 KB<br>downloaded 449 times
										</div>
									</div>
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/smkj.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;smkj.png</a> 
											<br>8.22 KB<br>downloaded 439 times
										</div>
									</div>
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="./Ch-7 SPI Port Based Serial Data Communication_files/smLM35.png"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/clip(1).png" class="centericon" alt="*">&nbsp;smLM35.png</a> 
											<br>13.65 KB<br>downloaded 399 times
										</div>
									</div>
							</div>
							<div class="under_message">
								<ul class="floatleft smalltext">
									<li class="report_link"><a href="https://forum.arduino.cc/index.php?action=reporttm;topic=690562.3;msg=4643420">Report to moderator</a></li>
								</ul>
								<ul class="quickbuttons sf-js-enabled sf-arrows" style="touch-action: pan-y;">
									<li><a href="https://forum.arduino.cc/index.php?action=post;quote=4643420;topic=690562.0;last_msg=4646670" onclick="return oQuickReply.quote(4643420);" class="quote_button">Quote</a></li>
										<ul>
										</ul>
									
								</ul>
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg4646670"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Offline"><span class="off" title="Offline"></span></a>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=610642" title="View the profile of GolamMostafa" class="pm_icon">GolamMostafa</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=610642"><img class="avatar" src="./Ch-7 SPI Port Based Serial Data Communication_files/GolamMostafa.jpeg" alt="avatar_GolamMostafa" onerror="this.src=&#39;//dcw9y8se13llu.cloudfront.net/avatars/default.png&#39;;"></a>
								</li>
								<li class="icons"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"><img src="./Ch-7 SPI Port Based Serial Data Communication_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Faraday Member</li>
								<li class="postcount">Posts: 5,446</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="https://forum.arduino.cc/index.php?action=pm;sa=send;u=610642" title="Personal Message (Offline)"><span class="generic_icons im_off centericon" title="Personal Message (Offline)"></span> </a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 342&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=610642;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">[add]</a></li>
								<li class="poster_ip"><a href="https://forum.arduino.cc/index.php?action=helpadmin;help=see_member_ip" onclick="return reqOverlayDiv(this.href);" class="help">Logged</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./Ch-7 SPI Port Based Serial Data Communication_files/xx.png" alt="">
								</div>
								<div id="subject_4646670" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=690562.msg4646670#msg4646670" rel="nofollow">Re: Ch-7  SPI Port Based Serial Data Communication</a></div>
								<div class="page_number floatright">
									 #4 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=690562.msg4646670#msg4646670" rel="nofollow" title="Reply #4 - Re: Ch-7  SPI Port Based Serial Data Communication" class="smalltext">Jun 18, 2020, 03:43 pm</a>
									<span class="smalltext modified" id="modified_4646670"></span>
								</h5>
								<div id="msg_4646670_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_4646670">...this is reserved.</div>
							</div>
							<div class="under_message">
								<ul class="floatleft smalltext">
									<li class="report_link"><a href="https://forum.arduino.cc/index.php?action=reporttm;topic=690562.4;msg=4646670">Report to moderator</a></li>
								</ul>
								<ul class="quickbuttons sf-js-enabled sf-arrows" style="touch-action: pan-y;">
									<li><a href="https://forum.arduino.cc/index.php?action=post;quote=4646670;topic=690562.0;last_msg=4646670" onclick="return oQuickReply.quote(4646670);" class="quote_button">Quote</a></li>
										<ul>
										</ul>
									
								</ul>
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				</form>
			</div>
			<div class="pagesection">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_reply " href="https://forum.arduino.cc/index.php?action=post;topic=690562.0;last_msg=4646670">Reply</a>
				<a class="button-forum  button_strip_mark_unread" href="https://forum.arduino.cc/index.php?action=markasread;sa=topic;t=4643416;topic=690562.0;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5">Mark unread</a>
				<a class="button-forum  button_strip_print" href="https://forum.arduino.cc/index.php?action=printpage;topic=690562.0" rel="nofollow">Print</a>
				<a class="button-forum  button_strip_notify" href="https://forum.arduino.cc/index.php?topic=690562.msg4643416">No Alerts or Emails</a>
					<div class="top_menu dropmenu notify_dropdown">
						<div class="viewport">
							<div class="overview"><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=0;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Not Following</strong><br><span>You will not receive any emails or alerts for this post and it will also not show up in your unread replies and topics list. You will still receive @mentions for this topic.</span></a><span class="notify_check checked"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=1;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>No Alerts or Emails</strong><br><span>You will not receive any emails or alerts but only @mentions by other members.</span></a><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=2;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Receive Alerts</strong><br><span>You will receive alerts for this topic.</span></a><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=3;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Receive Emails</strong><br><span>You will receive emails for this topic</span></a><span class="notify_check"></span>
								<a href="https://forum.arduino.cc/index.php?action=notifytopic;topic=690562;mode=4;b9461d3f92=f27e02cfd2ffc059ad89808fbc1ebcc5"><strong>Receive Emails and Alerts</strong><br><span>You will receive both alerts and e-mails for this topic.</span></a>
							</div>
						</div>
					</div>
		</div>
				 <a href="https://forum.arduino.cc/index.php?topic=690562.msg4643416#main_content_section" class="topbottom floatleft" id="bot">Go Up</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> 
				</div>
			</div>
			<div id="moderationbuttons">
				
			</div>
			<div id="display_jump_to"><label class="smalltext" for="display_jump_to_select">Jump to:</label> <select name="display_jump_to_select" id="display_jump_to_select" onfocus="grabJumpToContent(this);"><option value="?board=18.0">=&gt; Education and Teaching</option></select>&nbsp;<input type="button" class="button_submit" value="Go" onclick="window.location.href = &#39;https://forum.arduino.cc/index.php?board=18.0&#39;;"></div><div class="tborder" id="quickreplybox">
							<div>
									<div class="roundframe">
											<p class="alert smalltext">Warning: this topic has not been posted in for at least 120 days.<br>Unless you're sure you want to reply, please consider starting a new topic.<br>You have no permission to post in this topic. If you really want to post here - please contact moderator to bump this topic.</p>
									</div>
							</div>
					</div>
			<script><!-- // --><![CDATA[
				var oDraftAutoSave = new smf_DraftAutoSave({
					sSelf: 'oDraftAutoSave',
					sLastNote: 'draft_lastautosave',
					sLastID: 'id_draft',
					sSceditorID: 'quickReply',
					sType: 'quick',
					iBoard: 18,
					iFreq: 60000
				});
			// ]]></script>
				<script><!-- // --><![CDATA[
					var oQuickReply = new QuickReply({
						bDefaultCollapsed: false,
						iTopicId: 690562,
						iStart: 0,
						sScriptUrl: smf_scripturl,
						sImagesUrl: smf_images_url,
						sContainerId: "quickReplyOptions",
						sImageId: "quickReplyExpand",
						sClassCollapsed: "toggle_up",
						sClassExpanded: "toggle_down",
						bIsFull: true
					});
					if ('XMLHttpRequest' in window)
					{
						var oQuickModify = new QuickModify({
							sScriptUrl: smf_scripturl,
							sClassName: 'quick_edit',
							bShowModify: true,
							iTopicId: 690562,
							sTemplateBodyEdit: '\n\t\t\t\t\t\t\t\t<div id="quick_edit_body_container">\n\t\t\t\t\t\t\t\t\t<div id="error_box" class="error"><' + '/div>\n\t\t\t\t\t\t\t\t\t<textarea class="editor" name="message" rows="12" style="width: 100%; margin-bottom: 10px;" tabindex="1">%body%<' + '/textarea><br>\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="b9461d3f92" value="f27e02cfd2ffc059ad89808fbc1ebcc5">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="topic" value="690562">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="msg" value="%msg_id%">\n\t\t\t\t\t\t\t\t\t<div class="righttext">\n\t\t\t\t\t\t\t\t\t\t<input type="submit" name="post" value="Save" tabindex="2" onclick="return oQuickModify.modifySave(\'f27e02cfd2ffc059ad89808fbc1ebcc5\', \'b9461d3f92\');" accesskey="s" class="button_submit">&nbsp;&nbsp;<input type="submit" name="cancel" value="Cancel" tabindex="3" onclick="return oQuickModify.modifyCancel();" class="button_submit">\n\t\t\t\t\t\t\t\t\t<' + '/div>\n\t\t\t\t\t\t\t\t<' + '/div>',
							sTemplateSubjectEdit: '<input type="text" name="subject" value="%subject%" size="80" maxlength="80" tabindex="4" class="input_text">',
							sTemplateBodyNormal: '%body%',
							sTemplateSubjectNormal: '<a hr'+'ef="' + smf_scripturl + '?topic=690562.msg%msg_id%#msg%msg_id%" rel="nofollow">%subject%<' + '/a>',
							sTemplateTopSubject: 'Topic: %subject% &nbsp;(Read 2077 times)',
							sTemplateReasonEdit: '<input type="text" name="modify_reason" value="%modify_reason%" size="80" maxlength="80" tabindex="5" class="input_text">)',
							sTemplateReasonNormal: '%modify_text',
							sErrorBorderStyle: '1px solid red',
							sFormRemoveAccessKeys: 'postmodify'
						});

						aJumpTo[aJumpTo.length] = new JumpTo({
							sContainerId: "display_jump_to",
							sJumpToTemplate: "<label class=\"smalltext\" for=\"%select_id%\">Jump to:<" + "/label> %dropdown_list%",
							iCurBoardId: 18,
							iCurBoardChildLevel: 0,
							sCurBoardName: "Education and Teaching",
							sBoardChildLevelIndicator: "==",
							sBoardPrefix: "=> ",
							sCatSeparator: "-----------------------------",
							sCatPrefix: "",
							sGoButtonLabel: "Go"
						});

						aIconLists[aIconLists.length] = new IconList({
							sBackReference: "aIconLists[" + aIconLists.length + "]",
							sIconIdPrefix: "msg_icon_",
							sScriptUrl: smf_scripturl,
							bShowModify: true,
							iBoardId: 18,
							iTopicId: 690562,
							sSessionId: smf_session_id,
							sSessionVar: smf_session_var,
							sLabelIconList: "Message icon",
							sBoxBackground: "transparent",
							sBoxBackgroundHover: "#ffffff",
							iBoxBorderWidthHover: 1,
							sBoxBorderColorHover: "#adadad" ,
							sContainerBackground: "#ffffff",
							sContainerBorder: "1px solid #adadad",
							sItemBorder: "1px solid #ffffff",
							sItemBorderHover: "1px dotted gray",
							sItemBackground: "transparent",
							sItemBackgroundHover: "#e0e0f0"
						});
					}
				// ]]></script>
			</div>
		</div>
	</div>
  </div>
</div>
           <br><style>.pagefooter a { color: white !important; }</style><div id="spacer"></div>
		<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async="" src="./Ch-7 SPI Port Based Serial Data Communication_files/js"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-22581631-3');
	</script>
    <div>
      <div id="newsletter-modal"></div>
      <div id="footer" data-ref="0.427619872797693"><div id="ino-footer-block" class="ino-footer-block">
  <!-- TrusArc -->
  <div id="teconsent"></div>

  <div class="app-footer-header">
    <div class="app-footer-header__logo app-footer-logo logo-arduino" id="footer-logo"><svg xmlns="http://www.w3.org/2000/svg" width="102" height="14" fill="none" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerLogo-arduino.svg">
  <path d="M0 13.812L4.162.19h3.784l4.351 13.622H8.703l-.757-2.649H4.162l-.757 2.649H0zM6.054 3.595L4.73 8.515h2.648l-1.324-4.92zM14.378.19h5.486c3.784 0 5.108 1.891 5.108 4.54 0 1.892-.756 3.216-2.27 3.973l2.649 4.919h-3.973l-1.892-4.163h-1.703v4.352h-3.405V.189zm7.19 4.54c0-1.135-.38-1.892-2.082-1.892h-1.703v3.784h1.703c1.324.189 2.081-.379 2.081-1.892zM27.811.19h4.352c5.108 0 6.81 2.459 6.81 6.62 0 3.217-.945 6.812-6.81 6.812h-4.54V.189h.188zm3.406 2.648v7.946h1.324c2.838 0 3.027-1.703 3.027-3.973 0-2.649-.19-3.973-3.216-3.973h-1.135zM48.81.19h3.217V9.08C52.027 13.054 49 14 46.541 14c-2.27 0-5.298-.757-5.298-4.919V.19h3.406v8.324c0 2.27.756 2.838 2.08 2.838 1.514 0 2.082-.756 2.082-2.838V.19zM55.054 10.973h3.594V3.027h-3.405V.189h10.405v2.838h-3.594v7.946h3.594v2.838H55.243v-2.838h-.19zM71.325 13.622h-3.217V.189h3.784l4.352 8.135V.19h3.216v13.622h-3.406l-4.54-8.703-.19 8.514zM93.082 7c0 3.973-1.514 7-5.865 7-3.973 0-5.676-2.27-5.676-6.81 0-4.163 1.514-7.19 5.676-7.19 3.973 0 5.865 1.703 5.865 7zm-3.595 0c0-3.405-.19-4.162-2.27-4.162-1.703-.19-2.081.946-2.081 4.351 0 2.649.189 4.162 2.08 4.162 2.082-.189 2.271-1.324 2.271-4.351zM95.352 3.027C95.352 1.324 96.676 0 98.189 0c1.703 0 3.027 1.324 3.027 3.027s-1.324 3.027-3.027 3.027c-1.513-.19-2.837-1.513-2.837-3.027zm5.297 0c0-1.324-.946-2.46-2.46-2.46-1.324 0-2.27.947-2.27 2.46 0 1.514 1.135 2.46 2.27 2.46 1.514 0 2.46-.946 2.46-2.46zm-3.973-1.892h1.703c1.135 0 1.513.568 1.513 1.135 0 .379-.19.757-.567 1.135l.567 1.325h-1.135l-.378-1.135H98V4.73h-1.135V1.135h-.19zm1.513 1.703c.379 0 .568-.19.568-.568 0-.378-.19-.378-.568-.378h-.378v.946h.378z" fill="currentColor"></path>
</svg></div>

    <div class="app-footer-header__controls no-select app-footer-controls" id="footer-controls"><div class="app-footer-button" id="go-top">
  <div class="app-footer-button__icon"><svg xmlns="http://www.w3.org/2000/svg" id="control-icon-back2top" viewBox="0 0 15 14" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerControl-back2top.svg">
  <path d="M10.3125 8.40628C10.2508 8.40664 10.1896 8.39481 10.1325 8.37149C10.0754 8.34816 10.0235 8.31379 9.97965 8.27034L7.49996 5.78597L5.02028 8.27034C4.97657 8.31405 4.92469 8.34872 4.86758 8.37237C4.81048 8.39603 4.74927 8.4082 4.68746 8.4082C4.62566 8.4082 4.56445 8.39603 4.50735 8.37237C4.45024 8.34872 4.39836 8.31405 4.35465 8.27034C4.31095 8.22664 4.27628 8.17475 4.25262 8.11765C4.22897 8.06054 4.2168 7.99934 4.2168 7.93753C4.2168 7.87572 4.22897 7.81452 4.25262 7.75742C4.27628 7.70031 4.31095 7.64843 4.35465 7.60472L7.16715 4.79222C7.21073 4.74828 7.26257 4.71341 7.31969 4.68961C7.37682 4.66582 7.43808 4.65356 7.49996 4.65356C7.56185 4.65356 7.62311 4.66582 7.68023 4.68961C7.73736 4.71341 7.7892 4.74828 7.83278 4.79222L10.6453 7.60472C10.6892 7.6483 10.7241 7.70014 10.7479 7.75726C10.7717 7.81438 10.7839 7.87565 10.7839 7.93753C10.7839 7.99941 10.7717 8.06068 10.7479 8.1178C10.7241 8.17492 10.6892 8.22677 10.6453 8.27034C10.6015 8.31379 10.5495 8.34816 10.4924 8.37149C10.4353 8.39481 10.3742 8.40664 10.3125 8.40628Z" fill="currentColor"></path>
  <path d="M7.5 13.5625C6.20206 13.5625 4.93327 13.1776 3.85407 12.4565C2.77488 11.7354 1.93374 10.7105 1.43704 9.51136C0.940343 8.31222 0.810384 6.99272 1.0636 5.71972C1.31682 4.44672 1.94183 3.2774 2.85961 2.35961C3.7774 1.44183 4.94672 0.816815 6.21972 0.5636C7.49272 0.310384 8.81222 0.440343 10.0114 0.937043C11.2105 1.43374 12.2354 2.27488 12.9565 3.35407C13.6776 4.43327 14.0625 5.70206 14.0625 7C14.0625 8.74049 13.3711 10.4097 12.1404 11.6404C10.9097 12.8711 9.24049 13.5625 7.5 13.5625ZM7.5 1.375C6.38748 1.375 5.29995 1.7049 4.37492 2.32299C3.44989 2.94107 2.72892 3.81957 2.30318 4.84741C1.87744 5.87524 1.76604 7.00624 1.98309 8.09738C2.20013 9.18853 2.73586 10.1908 3.52253 10.9775C4.3092 11.7641 5.31148 12.2999 6.40262 12.5169C7.49376 12.734 8.62476 12.6226 9.6526 12.1968C10.6804 11.7711 11.5589 11.0501 12.177 10.1251C12.7951 9.20006 13.125 8.11252 13.125 7C13.125 5.50816 12.5324 4.07742 11.4775 3.02253C10.4226 1.96764 8.99185 1.375 7.5 1.375Z" fill="currentColor"></path>
</svg></div>
  <span class="app-footer-button__text">Back to top</span>
</div></div>
  </div>

  <div class="app-footer-content main">
    <div class="footer-menu-desktop app-footer-menu-desktop"><div class="app-footer-menu-desktop__item"><div class="app-footer-menu-desktop__link"><a href="https://www.arduino.cc/en/Trademark/HomePage"><span title="Trademark">Trademark</span></a></div><div class="app-footer-menu-desktop__link"><a href="https://www.arduino.cc/en/contact-us"><span title="Contact Us">Contact Us</span></a></div><div class="app-footer-menu-desktop__link"><a href="https://store.arduino.cc/distributors"><span title="Distributors">Distributors</span></a></div><div class="app-footer-menu-desktop__link"><a href="https://careers.arduino.cc/"><span title="Careers">Careers</span></a></div></div><div class="app-footer-menu-desktop__item"><div class="app-footer-menu-desktop__link"><a href="https://support.arduino.cc/"><span title="Help Center">Help Center</span></a></div></div></div>

    <div class="news-letter arduino-view">
      <newsletter data-ref="0.5055467776600833"><div class="newsletter-form">
    <h4 id="newsletter-input-label">Newsletter</h4>
    <div class="subscribe-wrapper">
        <div id="newsletter-email-error" class="upper-error-notif">Please insert a valid email</div>
        <div class="input-wrapper">
            <input id="newsletter-email" aria-labelledby="newsletter-input-label" type="email" name="email" class="email" placeholder="Enter your email to sign up">
            <button id="subscribe-btn" aria-label="Subscribe" class="button">Subscribe</button>
        </div>
    </div>
</div></newsletter>
    </div>

    <div class="social-container app-footer-social-apps"><h4>FOLLOW US</h4>
<div class="app-footer-social-btns">
  <div class="app-footer-social-btn">
    <a href="https://www.facebook.com/official.arduino" target="_blank" id="facebook" class="facebook" rel="noopener">
      <div class="app-footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" id="social-facebook" viewBox="0 0 7 13" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-facebook.svg">
  <path d="M4.66301 3.54026V4.93745H6.72426L6.39488 7.08901H4.66301V12.3749H2.33613V7.08901H0.450195V4.93745H2.33613V3.3012C2.33613 1.43651 3.44645 0.405884 5.14645 0.405884C5.70345 0.413533 6.25917 0.46147 6.80926 0.549321V2.38213H5.87426C5.71438 2.35869 5.55126 2.37203 5.39731 2.42112C5.24336 2.47021 5.10264 2.55377 4.98585 2.66544C4.86906 2.77711 4.77927 2.91395 4.72333 3.06554C4.66739 3.21713 4.64676 3.37949 4.66301 3.54026Z" fill="currentColor"></path>
</svg>
      </div>
    </a>
  </div>
  <div class="app-footer-social-btn">
    <a href="https://www.instagram.com/arduino.cc/" target="_blank" id="instagram" class="instagram" rel="noopener">
      <div class="app-footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" id="social-instagram" viewBox="0 0 13 14" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-instagram.svg">
  <path d="M6.5 1.772c1.7 0 1.902 0 2.577.038.404.006.805.081 1.184.223a2.066 2.066 0 011.206 1.206c.142.379.217.78.223 1.184.032.675.037.877.037 2.577s0 1.902-.037 2.577a3.541 3.541 0 01-.223 1.184 2.065 2.065 0 01-1.206 1.206c-.379.142-.78.217-1.184.223-.675.032-.877.037-2.577.037s-1.902 0-2.577-.037a3.542 3.542 0 01-1.184-.223 2.066 2.066 0 01-1.206-1.206 3.543 3.543 0 01-.223-1.184C1.278 8.902 1.272 8.7 1.272 7s0-1.902.038-2.577c.006-.404.081-.805.223-1.184a2.066 2.066 0 011.206-1.206c.379-.142.78-.217 1.184-.223.675-.032.877-.038 2.577-.038zm0-1.147c-1.732 0-1.95 0-2.63.037A4.654 4.654 0 002.324.96 3.224 3.224 0 00.46 2.824 4.654 4.654 0 00.162 4.37C.125 5.05.125 5.268.125 7c0 1.732 0 1.95.037 2.63.01.528.111 1.05.298 1.546a3.225 3.225 0 001.864 1.864 4.65 4.65 0 001.546.298c.68.037.898.037 2.63.037 1.732 0 1.95 0 2.63-.037a4.65 4.65 0 001.546-.298 3.226 3.226 0 001.864-1.864c.184-.487.284-1 .298-1.52.037-.706.037-.924.037-2.656 0-1.732 0-1.95-.037-2.63a4.65 4.65 0 00-.298-1.546A3.226 3.226 0 0010.676.96c-.487-.184-1-.284-1.52-.298C8.45.625 8.232.625 6.5.625z" fill="currentColor"></path>
  <path d="M6.5 3.728a3.273 3.273 0 100 6.545 3.273 3.273 0 000-6.545zm0 5.397a2.125 2.125 0 110-4.25 2.125 2.125 0 010 4.25zM9.906 4.36a.765.765 0 100-1.53.765.765 0 000 1.53z" fill="currentColor"></path>
</svg>
      </div>
    </a>
  </div>
  <div class="app-footer-social-btn">
    <a href="https://twitter.com/arduino" target="_blank" id="twitter" class="twitter" rel="noopener">
      <div class="app-footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" id="social-twitter" viewBox="0 0 13 11" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-twitter.svg">
  <path d="M4.545 10.36a7.04 7.04 0 007.087-7.092V2.95a5.13 5.13 0 001.243-1.29c-.457.2-.94.332-1.434.393.522-.311.913-.802 1.1-1.382a5.233 5.233 0 01-1.595.606 2.491 2.491 0 00-4.308 1.705 2.22 2.22 0 00.064.569A7.071 7.071 0 011.575.94a2.497 2.497 0 00.776 3.326 2.444 2.444 0 01-1.126-.33v.032a2.497 2.497 0 001.997 2.444 2.619 2.619 0 01-1.126.043 2.492 2.492 0 002.327 1.732A4.994 4.994 0 011.325 9.25a4.422 4.422 0 01-.595 0 6.975 6.975 0 003.815 1.126" fill="currentColor"></path>
</svg>
      </div>
    </a>
  </div>
  <div class="app-footer-social-btn">
    <a href="https://github.com/arduino/" target="_blank" id="github" class="github" rel="noopener">
      <div class="app-footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" id="social-github" viewBox="0 0 11 13" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-github.svg">
  <path d="M6.85 8.337a1.77 1.77 0 01.504 1.382v2.008a.531.531 0 01-.409.531 7.52 7.52 0 01-2.869 0 .531.531 0 01-.409-.531v-1.233c-2.066.447-2.502-.998-2.502-.998a1.97 1.97 0 00-.829-1.09c-.674-.456.054-.451.054-.451a1.562 1.562 0 011.136.77 1.594 1.594 0 002.168.617c.03-.377.196-.73.467-.994C2.515 8.157.777 7.52.777 4.672a2.869 2.869 0 01.744-2.003A2.656 2.656 0 011.596.687s.621-.201 2.045.76a7.066 7.066 0 013.719 0C8.783.502 9.405.687 9.405.687c.275.622.302 1.325.074 1.966.503.542.777 1.258.765 1.998 0 2.874-1.737 3.5-3.394 3.686z" fill="currentColor"></path>
</svg>
      </div>
    </a>
  </div>
  <div class="app-footer-social-btn">
    <a href="https://www.linkedin.com/company/arduino" target="_blank" id="linkedin" class="linkedin" rel="noopener">
      <div class="app-footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" id="social-linkedin" viewBox="0 0 11 12" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-linkedin.svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.863 11.313h2.125V7.338c-.006-.18.02-.36.075-.531A1.222 1.222 0 017.237 6c.967 0 1.307.616 1.307 1.525v3.787h2.167V7.239c0-2.067-.632-3.188-2.576-3.188A2.183 2.183 0 006.01 5.33V4.205H3.885c.031.633 0 7.109 0 7.109h-.022z" fill="currentColor"></path>
  <path d="M1.361 3.248a1.28 1.28 0 100-2.56 1.28 1.28 0 000 2.56zM2.45 4.204H.247v7.109h2.205V4.204z" fill="currentColor"></path>
</svg>
      </div>
    </a>
  </div>
  <div class="app-footer-social-btn">
    <a href="https://www.youtube.com/user/arduinoteam" target="_blank" id="youtube" class="youtube" rel="noopener">
      <div class="app-footer-social-icon">
        <svg xmlns="http://www.w3.org/2000/svg" id="social-youtube" viewBox="0 0 15 12" data-inject-url="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-youtube.svg">
  <path d="M14.624 2.398a1.854 1.854 0 00-1.312-1.323C12.154.762 7.5.762 7.5.762s-4.653 0-5.811.313A1.854 1.854 0 00.376 2.398 19.407 19.407 0 00.063 6a19.407 19.407 0 00.313 3.602 1.855 1.855 0 001.313 1.323c1.158.313 5.811.313 5.811.313s4.654 0 5.812-.313a1.855 1.855 0 001.313-1.323c.216-1.188.32-2.394.313-3.602a19.412 19.412 0 00-.314-3.602zM5.981 8.21V3.79L9.864 6 5.981 8.21z" fill="currentColor"></path>
</svg>
      </div>
    </a>
  </div>
</div></div>
  </div>

  <div class="footer-mobile-menu-list app-footer-menu-mobile"><div class="app-footer-menu-mobile__link"><a href="https://www.arduino.cc/en/Trademark/HomePage"><span title="Trademark">Trademark</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://www.arduino.cc/en/contact-us"><span title="Contact Us">Contact Us</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://store.arduino.cc/distributors"><span title="Distributors">Distributors</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://careers.arduino.cc/"><span title="Careers">Careers</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://support.arduino.cc/"><span title="Help Center">Help Center</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://www.arduino.cc/en/Main/TermsOfService"><span title="Terms Of Service">Terms Of Service</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://www.arduino.cc/en/Main/PrivacyPolicy"><span title="Privacy Policy">Privacy Policy</span></a></div><div class="app-footer-menu-mobile__link"><a href="https://www.arduino.cc/en/Main/Security"><span title="Security">Security</span></a></div><div class="app-footer-menu-mobile__link" id="footer-trustarc-element" style="display: none;"><a class="footer-teconsent">Cookie Preferences</a></div></div>

  <div class="app-footer-bottom">
    <div class="app-footer-bottom__left footer-year app-footer-copyright" id="footer-copyright"><p id="footer-copyright-container">
  <a href="https://www.arduino.cc/en/Main/CopyrightNotice" id="footer-copyright-url">
    <span class="text">
      © <span id="current-year">2020</span> Arduino
    </span>
  </a>
</p></div>

    <div class="app-footer-bottom__middle">
      <div class="footer-menu-copyright app-footer-menu-copyright"><div class="app-footer-menu-copyright__link"><a href="https://www.arduino.cc/en/Main/TermsOfService"><span title="Terms Of Service">Terms Of Service</span></a></div><div class="app-footer-menu-copyright__link"><a href="https://www.arduino.cc/en/Main/PrivacyPolicy"><span title="Privacy Policy">Privacy Policy</span></a></div><div class="app-footer-menu-copyright__link"><a href="https://www.arduino.cc/en/Main/Security"><span title="Security">Security</span></a></div><div class="app-footer-menu-copyright__link" id="footer-trustarc-element" style="display: none;"><a class="footer-teconsent">Cookie Preferences</a></div></div>
    </div>

    <div class="app-footer-bottom__right payments" id="footer-payments">
      <!-- right -->
    </div>
  </div>
  
  <div class="footer-help-container hide">
    <a href="https://support.arduino.cc/" aria-haspopup="true" aria-label="Help" class="footer-help-button">
      <span class="footer-help-icon" type="Icon">
        <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><title></title><g id="Layer_4"><path d="M11,12.3V13c0,0-1.8,0-2,0v-0.6c0-0.6,0.1-1.4,0.8-2.1c0.7-0.7,1.6-1.2,1.6-2.1c0-0.9-0.7-1.4-1.4-1.4 c-1.3,0-1.4,1.4-1.5,1.7H6.6C6.6,7.1,7.2,5,10,5c2.4,0,3.4,1.6,3.4,3C13.4,10.4,11,10.8,11,12.3z"></path><circle cx="10" cy="15" r="1"></circle><path d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10S15.5,0,10,0 L10,0z"></path></g></svg>
      </span>
      <span class="footer-help-text">Help</span>
    </a>
  </div>
</div><!-- footer-block -->
</div>
    </div>
    <script src="./Ch-7 SPI Port Based Serial Data Communication_files/index.v2.js.download" type="text/javascript"></script>
    <script>
      var auth = new window.arduinoHF.CustomAuth({
        token: "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik5rUkVSalJFTWpBNFFqTXdNMFl3TXpSRFF6SkZOa0kxT0RkQlFVVTJNelpCUkRReFJqTXlOZyJ9.eyJodHRwOi8vYXJkdWluby5jYy91c2VybmFtZSI6ImVtb25fbWlyemEiLCJodHRwOi8vYXJkdWluby5jYy9pZCI6IjBhYTZiMzFkLTM4ODgtNGIyZC1iOWYxLWU5Njg0OTc3ZjNjZSIsImh0dHA6Ly9hcmR1aW5vLmNjL3JvbGVzIjpbXSwiaXNzIjoiaHR0cHM6Ly9sb2dpbi5hcmR1aW5vLmNjLyIsInN1YiI6ImF1dGgwfDBhYTZiMzFkLTM4ODgtNGIyZC1iOWYxLWU5Njg0OTc3ZjNjZSIsImF1ZCI6WyJodHRwczovL2FwaS5hcmR1aW5vLmNjIiwiaHR0cHM6Ly9hcmR1aW5vLXByb2QuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTYwMzk4NjU2NiwiZXhwIjoxNjAzOTg3MTY2LCJhenAiOiJnVGxqaWFmN2NOS25xMWQwdzdJSzcxaWIya0l3SmI3VyIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJwZXJtaXNzaW9ucyI6W119.oASuZdBnSy0rnOn9EkWZsEfWLvEfXnHkDZu056lBTnS5GP6Ty-vYtcpuMJ2wfk79DsL61_lcYvNcLJlC8O2uWSK_XJOQB0e64v4OYPnYuRIp3uRuA9HIxeqh95gA6D_gAXOxdL6xuyvyLM8U1bW7ZjmxvpIFuaMMBanpK4gauw6VJTR6p5_13msp6hrSEGzN10rLb1UNcDESlB7YYvw4kaF_o6DgpyhnSURejf2tjuEd4h3qeJH4HWiWh-9p8nvoL_hO2rjhVGQZBMM5bM8EpNJaPUat8jcW6RmUJ2lYjURqo80Lec32Iuq0uZvXSTWiuhwADfJ2KkppqswpR8NmQQ" ? "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik5rUkVSalJFTWpBNFFqTXdNMFl3TXpSRFF6SkZOa0kxT0RkQlFVVTJNelpCUkRReFJqTXlOZyJ9.eyJodHRwOi8vYXJkdWluby5jYy91c2VybmFtZSI6ImVtb25fbWlyemEiLCJodHRwOi8vYXJkdWluby5jYy9pZCI6IjBhYTZiMzFkLTM4ODgtNGIyZC1iOWYxLWU5Njg0OTc3ZjNjZSIsImh0dHA6Ly9hcmR1aW5vLmNjL3JvbGVzIjpbXSwiaXNzIjoiaHR0cHM6Ly9sb2dpbi5hcmR1aW5vLmNjLyIsInN1YiI6ImF1dGgwfDBhYTZiMzFkLTM4ODgtNGIyZC1iOWYxLWU5Njg0OTc3ZjNjZSIsImF1ZCI6WyJodHRwczovL2FwaS5hcmR1aW5vLmNjIiwiaHR0cHM6Ly9hcmR1aW5vLXByb2QuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTYwMzk4NjU2NiwiZXhwIjoxNjAzOTg3MTY2LCJhenAiOiJnVGxqaWFmN2NOS25xMWQwdzdJSzcxaWIya0l3SmI3VyIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJwZXJtaXNzaW9ucyI6W119.oASuZdBnSy0rnOn9EkWZsEfWLvEfXnHkDZu056lBTnS5GP6Ty-vYtcpuMJ2wfk79DsL61_lcYvNcLJlC8O2uWSK_XJOQB0e64v4OYPnYuRIp3uRuA9HIxeqh95gA6D_gAXOxdL6xuyvyLM8U1bW7ZjmxvpIFuaMMBanpK4gauw6VJTR6p5_13msp6hrSEGzN10rLb1UNcDESlB7YYvw4kaF_o6DgpyhnSURejf2tjuEd4h3qeJH4HWiWh-9p8nvoL_hO2rjhVGQZBMM5bM8EpNJaPUat8jcW6RmUJ2lYjURqo80Lec32Iuq0uZvXSTWiuhwADfJ2KkppqswpR8NmQQ": null,
        login_url: 'https://forum.arduino.cc/login.php?redirect_uri=https%3A%2F%2Fforum.arduino.cc%2Findex.php%3Ftopic%3D690562.msg4643416&do_login=1',
        logout_url: 'https://login.arduino.cc/v2/logout?returnTo=https%3A%2F%2Fforum.arduino.cc%2Flogin.php%3Ferror%3Dloggedout&client_id=gTljiaf7cNKnq1d0w7IK71ib2kIwJb7W',
        profile: {
          picture: 'https://content.arduino.cc/avatars/2/emon_mirza.jpeg'
        }
    });

      var header = new window.arduinoHF.Header(document.getElementById('header'), window.auth, {
        env: 'prod',
        search: {
          tab: 'forum'
        },
        style: 'arduino',
        logo: {
            url: 'https://www.arduino.cc'
        }
      });
      header.init();

      var footer = new arduinoHF.Footer(document.getElementById('footer'), {env: 'prod', style: 'arduino', helpCenter: null});

    </script><div data-ref="0.4244840744531093"><div class="modal info-modal" style="display: none;">
    <div class="modal-backdrop"></div>
    <div class="modal-body" data-ref="0.1828304245372081"><div class="privacy">

    <h1>Privacy consent</h1>

    <div>
        <p>
            Arduino cares about the privacy and personal data of its users. The <a href="https://www.arduino.cc/en/Main/PrivacyPolicy" target="_blank" rel="noopener">privacy policy</a> is meant to inform you on how we process your personal data when you use our services.
        </p>

        <ul class="privacy-settings">
            <li>
                <div class="upper-error-notif privacy-error">Please confirm that you have read the privacy policy</div>
                <label class="checkbox">
        <input type="checkbox" id="privacy-consent" name="privacy-consent" value="privacy_approval">

        <span class="custom-checkbox"></span>
        <span>I confirm to have read the privacy policy<span class="required-asterisk">*</span></span>
      </label>
            </li>
            <li>
                <div class="upper-error-notif newsletter-error">Please confirm your consent to receive the newsletter</div>
                <label class="checkbox">
        <input type="checkbox" id="newsletter-consent" name="newsletter-consent" value="newsletter_approval" checked="checked">

        <span class="custom-checkbox"></span>
        <span>I confirm my consent to receive your newsletter<span class="required-asterisk">*</span></span>
      </label>
            </li>
            <li>
                <label class="checkbox">
        <input type="checkbox" id="marketing-consent" value="marketing_approval">
        <span class="custom-checkbox"></span>
        <span>I confirm my consent to the processing of my personal data for marketing purposes, consisting in commercial offers sent via email</span>
      </label>
            </li>
            <li>
                <label class="checkbox">
        <input type="checkbox" id="tracking-consent" value="tracking_approval">
        <span class="custom-checkbox"></span>
        <span>I confirm my consent to automated processing of my personal data, by means of profiling, in order to receive commercial offers customized on the basis of my browsing and purchasing behavior</span>
      </label>
            </li>
        </ul>
        <div class="my-error-notification">
            <div id="newsletterSubscribeStatus"></div>
        </div>
        <section class="buttons-wrapper">
            <button name="Cancel" class="button secondary cancel">Cancel</button>
            <button name="Ok" class="primary button submit">Ok</button>
        </section>
    </div>
</div></div>
</div></div><div data-ref="0.22861784365084703"><div class="modal info-modal" style="display: none;">
    <div class="modal-backdrop"></div>
    <div class="modal-body" data-ref="0.16100540640200567"><div class="confirm">
  <h1>Confirm your email address</h1>
  <p>
    We need to confirm your email address.<br> To complete the subscription, please click the link in the email we just sent you.
  </p>
  <p>
    Thank you for subscribing!
  </p>
  <section class="buttons-wrapper">
    <button name="Ok" class="button submit">Ok</button>
  </section>
</div></div>
</div></div>
  <div id="ajax_in_progress" style="display: none;">Loading...</div>
<script><!-- // --><![CDATA[
	function triggerCron() {
		var tempImage = new Image();
		tempImage.src = 'https://forum.arduino.cc' + "/cron.php?ts=1603986645";
	}
	window.setTimeout(triggerCron, 1);
	var user_menus = new smc_PopupMenu();
	user_menus.add("profile", "https://forum.arduino.cc/index.php?action=profile;area=popup");
	user_menus.add("alerts", "https://forum.arduino.cc/index.php?action=profile;area=alerts_popup");
	user_menus.add("pm", "https://forum.arduino.cc/index.php?action=pm;sa=popup");
// ]]></script>
    <script src="./Ch-7 SPI Port Based Serial Data Communication_files/modernizr.js.download"></script>
    <!--[if gte IE 9]><!-->
    <script src="./Ch-7 SPI Port Based Serial Data Communication_files/foundation.min.js.download"></script>
    <script>
      $(document).foundation();
    </script>
    <!--<![endif]-->
    <!--[if IE 8]>
    <script src="//content.arduino.cc/legacy/js/foundation_ie8.min.js"></script>
    <script src="//content.arduino.cc/legacy/js/ie8/jquery.foundation.alerts.js"></script>
    <script src="//content.arduino.cc/legacy/js/app.js"></script>
		<![endif]-->
		<script>
		// Adv banner configuration
		var arduinoAdvOptions = {
			breakpointDesktop: 480,
			breakpointMobile: 480,
			zoneIdDesktop: 561,
			zoneIdTablet: 560,
			zoneIdMobile: 560
		};

		jQuery('.boardindex_table .main_container:nth-child(1)').append('<div id="ad_container_zone" class="adv-banner"></div>');
		jQuery('#forumposts form .windowbg:nth-of-type(1)').after('<div id="ad_container_zone" class="adv-banner"></div>');

		</script>
		<!-- Script used by adv banner -->
		<script type="text/javascript" src="./Ch-7 SPI Port Based Serial Data Communication_files/postscribe.min.js.download"></script>
		<script type="text/javascript" src="./Ch-7 SPI Port Based Serial Data Communication_files/banner.js.download"></script>

<iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./Ch-7 SPI Port Based Serial Data Communication_files/box-469cf41adb11dc78be68c1ae7f9457a4.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe></body></html>